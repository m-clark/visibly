<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>An Introduction to Visibly • visibly!</title>
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet">
<meta property="og:title" content="An Introduction to Visibly">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">visibly!</a>
        <span class="label label-default" data-toggle="tooltip" data-placement="bottom" title="Released package">0.2.4</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/intro.html">Introduction to visibly</a>
    </li>
    <li>
      <a href="../articles/intro.html##palettes-themes">Palettes &amp; Themes</a>
    </li>
    <li>
      <a href="../articles/intro.html#descriptive-visualization">Descriptive visualization</a>
    </li>
    <li>
      <a href="../articles/intro.html#plotting-model-results">Plot Models</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/m-clark">
    <span class="fa fa-github-alt"></span>
     
  </a>
</li>
<li>
  <a href="https://m-clark.github.io">
    <span class="fa fa-empire"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><script src="intro_files/htmlwidgets-1.2/htmlwidgets.js"></script><script src="intro_files/plotly-binding-4.8.0/plotly.js"></script><script src="intro_files/typedarray-0.1/typedarray.min.js"></script><script src="intro_files/jquery-1.11.3/jquery.min.js"></script><link href="intro_files/crosstalk-1.0.0/css/crosstalk.css" rel="stylesheet">
<script src="intro_files/crosstalk-1.0.0/js/crosstalk.min.js"></script><link href="intro_files/plotly-htmlwidgets-css-1.39.2/plotly-htmlwidgets.css" rel="stylesheet">
<script src="intro_files/plotly-main-1.39.2/plotly-latest.min.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>An Introduction to Visibly</h1>
                        <h4 class="author">Michael Clark</h4>
            
            <h4 class="date"><span style="font-style:normal;font-family:'Open Sans'">2018-08-11</span></h4>
      
      <small class="dont-index">Source: <a href="https://github.com/m-clark/visibly/blob/master/vignettes/intro.Rmd"><code>vignettes/intro.Rmd</code></a></small>
      <div class="hidden name"><code>intro.Rmd</code></div>

    </div>

    
    
<div id="palettes-themes" class="section level2">
<h2 class="hasAnchor">
<a href="#palettes-themes" class="anchor"></a>Palettes &amp; Themes</h2>
<p>One can get started by creating a palette. This uses the <span class="pack">colortools</span> package to provide evenly spaced colors, given a starting color.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="kw">library</span>(visibly)</a>
<a class="sourceLine" id="cb1-2" data-line-number="2"><span class="kw"><a href="../reference/create_palette.html">create_palette</a></span>(<span class="st">'papayawhip'</span>, <span class="dt">plot =</span> <span class="ot">TRUE</span>)</a></code></pre></div>
<p><img src="intro_files/figure-html/example-1.png" width="75%" style="display: block; margin: auto;"></p>
<pre><code>$papayawhip
[1] "papayawhip"

$complementary
[1] "#FFEFD5" "#D5E5FF"

$analogous
[1] "#FFEFD5" "#FAFFD5" "#FFDAD5"

$split_complentary
[1] "#FFEFD5" "#D5FAFF" "#DAD5FF"

$triadic
[1] "#FFEFD5" "#D5FFEF" "#EFD5FF"

$square
[1] "#FFEFD5" "#D5FFDA" "#D5E5FF" "#FFD5FA"

$tetradic
[1] "#FFEFD5" "#E5FFD5" "#D5E5FF" "#EFD5FF"</code></pre>
<p>Here is a palette based on the blue in the R logo.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1">palettes<span class="op">$</span>Rblue</a>
<a class="sourceLine" id="cb3-2" data-line-number="2"><span class="op">$</span>Rblue</a>
<a class="sourceLine" id="cb3-3" data-line-number="3">[<span class="dv">1</span>] <span class="st">"#1f65b7"</span></a>
<a class="sourceLine" id="cb3-4" data-line-number="4"></a>
<a class="sourceLine" id="cb3-5" data-line-number="5"><span class="op">$</span>complementary</a>
<a class="sourceLine" id="cb3-6" data-line-number="6">[<span class="dv">1</span>] <span class="st">"#1f65b7"</span> <span class="st">"#b7701f"</span></a>
<a class="sourceLine" id="cb3-7" data-line-number="7"></a>
<a class="sourceLine" id="cb3-8" data-line-number="8"><span class="op">$</span>monochromatic</a>
<a class="sourceLine" id="cb3-9" data-line-number="9">[<span class="dv">1</span>] <span class="st">"#1f65b7"</span> <span class="st">"#366caa"</span> <span class="st">"#4a719e"</span> <span class="st">"#5a7491"</span></a>
<a class="sourceLine" id="cb3-10" data-line-number="10"></a>
<a class="sourceLine" id="cb3-11" data-line-number="11"><span class="op">$</span>analogous</a>
<a class="sourceLine" id="cb3-12" data-line-number="12">[<span class="dv">1</span>] <span class="st">"#1f65b7"</span> <span class="st">"#241fb7"</span> <span class="st">"#1fb2b7"</span></a>
<a class="sourceLine" id="cb3-13" data-line-number="13"></a>
<a class="sourceLine" id="cb3-14" data-line-number="14"><span class="op">$</span>split_complementary</a>
<a class="sourceLine" id="cb3-15" data-line-number="15">[<span class="dv">1</span>] <span class="st">"#1f65b7"</span> <span class="st">"#b2b71f"</span> <span class="st">"#b7241f"</span></a>
<a class="sourceLine" id="cb3-16" data-line-number="16"></a>
<a class="sourceLine" id="cb3-17" data-line-number="17"><span class="op">$</span>triadic</a>
<a class="sourceLine" id="cb3-18" data-line-number="18">[<span class="dv">1</span>] <span class="st">"#1f65b7"</span> <span class="st">"#66b71f"</span> <span class="st">"#b71f66"</span></a>
<a class="sourceLine" id="cb3-19" data-line-number="19"></a>
<a class="sourceLine" id="cb3-20" data-line-number="20"><span class="op">$</span>tetradic</a>
<a class="sourceLine" id="cb3-21" data-line-number="21">[<span class="dv">1</span>] <span class="st">"#1f65b7"</span> <span class="st">"#b7701f"</span> <span class="st">"#66b71f"</span> <span class="st">"#701fb7"</span></a></code></pre></div>
<p>The palette creator can create some decent categorical distinctions without too much fuss. The following also demonstrates one of the themes, which has no grid/gray, and de-bolds the black font while leaving text clear; even the fainter version will pass web standards for contrast against a white background. As shown, you can still fiddle with the theme beyond that.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1">pal =<span class="st"> </span><span class="kw"><a href="../reference/create_palette.html">create_palette</a></span>(<span class="st">'#ff5500'</span>, </a>
<a class="sourceLine" id="cb4-2" data-line-number="2">                     <span class="dt">name =</span> <span class="st">'orange_you_glad_you_have_this_color'</span>)</a>
<a class="sourceLine" id="cb4-3" data-line-number="3"><span class="kw">library</span>(ggplot2)</a>
<a class="sourceLine" id="cb4-4" data-line-number="4"></a>
<a class="sourceLine" id="cb4-5" data-line-number="5"><span class="kw"><a href="http://www.rdocumentation.org/packages/ggplot2/topics/ggplot">ggplot</a></span>(mtcars, <span class="kw"><a href="http://www.rdocumentation.org/packages/ggplot2/topics/aes">aes</a></span>(<span class="dt">x=</span>wt, <span class="dt">y=</span>mpg)) <span class="op">+</span></a>
<a class="sourceLine" id="cb4-6" data-line-number="6"><span class="st">  </span><span class="kw"><a href="http://www.rdocumentation.org/packages/ggplot2/topics/geom_point">geom_point</a></span>(<span class="kw"><a href="http://www.rdocumentation.org/packages/ggplot2/topics/aes">aes</a></span>(<span class="dt">color=</span><span class="kw">factor</span>(cyl)), <span class="dt">size=</span><span class="dv">10</span>, <span class="dt">alpha=</span>.<span class="dv">5</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb4-7" data-line-number="7"><span class="st">  </span><span class="kw"><a href="http://www.rdocumentation.org/packages/ggplot2/topics/scale_manual">scale_color_manual</a></span>(<span class="dt">values =</span> pal<span class="op">$</span>triadic) <span class="op">+</span></a>
<a class="sourceLine" id="cb4-8" data-line-number="8"><span class="st">  </span><span class="kw"><a href="../reference/theme_trueMinimal.html">theme_trueMinimal</a></span>()</a></code></pre></div>
<p><img src="intro_files/figure-html/use1-1.png" width="75%" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" data-line-number="1"><span class="kw">library</span>(dplyr)</a>
<a class="sourceLine" id="cb5-2" data-line-number="2">mtcars <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb5-3" data-line-number="3"><span class="st">  </span><span class="kw"><a href="http://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span>(<span class="dt">cyl =</span> <span class="kw">factor</span>(cyl)) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb5-4" data-line-number="4"><span class="st">  </span>tidyext<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/tidyext/topics/num_by">num_by</a></span>(wt, cyl) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb5-5" data-line-number="5"><span class="st">  </span><span class="kw"><a href="http://www.rdocumentation.org/packages/ggplot2/topics/ggplot">ggplot</a></span>(<span class="kw"><a href="http://www.rdocumentation.org/packages/ggplot2/topics/aes">aes</a></span>(<span class="dt">x=</span>cyl, <span class="dt">y=</span>Mean)) <span class="op">+</span></a>
<a class="sourceLine" id="cb5-6" data-line-number="6"><span class="st">  </span><span class="kw"><a href="http://www.rdocumentation.org/packages/ggplot2/topics/geom_bar">geom_col</a></span>(<span class="kw"><a href="http://www.rdocumentation.org/packages/ggplot2/topics/aes">aes</a></span>(<span class="dt">fill=</span>cyl), <span class="dt">width=</span>.<span class="dv">5</span>, <span class="dt">alpha=</span>.<span class="dv">85</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb5-7" data-line-number="7"><span class="st">  </span><span class="kw"><a href="http://www.rdocumentation.org/packages/ggplot2/topics/scale_manual">scale_fill_manual</a></span>(<span class="dt">values =</span> palettes<span class="op">$</span>Rblue<span class="op">$</span>triadic) <span class="op">+</span></a>
<a class="sourceLine" id="cb5-8" data-line-number="8"><span class="st">  </span><span class="kw"><a href="../reference/theme_trueMinimal.html">theme_trueMinimal</a></span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb5-9" data-line-number="9"><span class="st">  </span><span class="kw"><a href="http://www.rdocumentation.org/packages/ggplot2/topics/theme">theme</a></span>(<span class="dt">legend.key.size =</span> <span class="kw"><a href="http://www.rdocumentation.org/packages/grid/topics/unit">unit</a></span>(.<span class="dv">015</span>, <span class="st">'npc'</span>),</a>
<a class="sourceLine" id="cb5-10" data-line-number="10">        <span class="dt">axis.title.y =</span> <span class="kw"><a href="http://www.rdocumentation.org/packages/ggplot2/topics/element">element_text</a></span>(<span class="dt">size=</span><span class="dv">20</span>, <span class="dt">hjust=</span><span class="op">-</span>.<span class="dv">05</span>))</a></code></pre></div>
<p><img src="intro_files/figure-html/use2-1.png" width="75%" style="display: block; margin: auto;"></p>
<p>Another way to create palettes is with a function that works with <a href="http://vrl.cs.brown.edu/color">colorgorical</a>. It connects to that website to create colors based on things like whether they perceptually go together aesthetically, whether they are more or less perceptually distinct, or even if their name is unique.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" data-line-number="1">## colorgorical(n=6, pairPreference = 1, startPalette = list(c(10, -60, 45)), output = 'hex')</a>
<a class="sourceLine" id="cb6-2" data-line-number="2">[<span class="dv">1</span>] <span class="st">"#002B00"</span> <span class="st">"#95C857"</span> <span class="st">"#334D37"</span> <span class="st">"#4EF185"</span> <span class="st">"#378811"</span> <span class="st">"#7FE7D3"</span></a></code></pre></div>
<p><img src="intro_files/figure-html/colorgorical-1.png" width="75%" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" data-line-number="1">## colorgorical(n=10, perceptualDifference = .5, startPalette = list(c(10, -60, 45)), output = 'hex')</a>
<a class="sourceLine" id="cb7-2" data-line-number="2"> [<span class="dv">1</span>] <span class="st">"#002B00"</span> <span class="st">"#D57381"</span> <span class="st">"#77CE3F"</span> <span class="st">"#DB0EAC"</span> <span class="st">"#2FF52B"</span> <span class="st">"#6C208E"</span> <span class="st">"#B1BF81"</span> <span class="st">"#4115F9"</span> <span class="st">"#518512"</span> <span class="st">"#B662CA"</span></a></code></pre></div>
<p><img src="intro_files/figure-html/colorgorical2-1.png" width="75%" style="display: block; margin: auto;"></p>
<p>To get a starting palette from an R or hexadecimal value, try <span class="pack">col2lab</span>.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" data-line-number="1"><span class="kw"><a href="../reference/col2lab.html">col2lab</a></span>(<span class="st">'dodgerblue'</span>)</a>
<a class="sourceLine" id="cb8-2" data-line-number="2">            L      a.x        b</a>
<a class="sourceLine" id="cb8-3" data-line-number="3">[<span class="dv">1</span>,] <span class="fl">59.30679</span> <span class="fl">9.612098</span> <span class="fl">-63.4918</span></a></code></pre></div>
<p>You can check your to see if your chosen color combinations would pass web standards for contrast sensitivity. For example, if you use blue for your hyperlinks and consider it against a white background for a webpage it passes.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb9-1" data-line-number="1"><span class="kw"><a href="../reference/color_contrast_checker.html">color_contrast_checker</a></span>(<span class="dt">foreground =</span> <span class="st">'blue'</span>)</a>
<a class="sourceLine" id="cb9-2" data-line-number="2">  ratio   AA AALarge  AAA AAALarge</a>
<a class="sourceLine" id="cb9-3" data-line-number="3"><span class="dv">1</span>  <span class="fl">8.59</span> pass    pass pass     pass</a></code></pre></div>
<p>However, if you consider the background as the surrounding text, perhaps not.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb10-1" data-line-number="1"><span class="kw"><a href="../reference/color_contrast_checker.html">color_contrast_checker</a></span>(<span class="dt">foreground =</span> <span class="st">'blue'</span>, <span class="dt">background =</span> <span class="st">'black'</span>)</a>
<a class="sourceLine" id="cb10-2" data-line-number="2">  ratio   AA AALarge  AAA AAALarge</a>
<a class="sourceLine" id="cb10-3" data-line-number="3"><span class="dv">1</span>  <span class="fl">2.44</span> fail    fail fail     fail</a></code></pre></div>
<p>Default ggplot2 colors don’t contrast well with the background. Ack!</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb11-1" data-line-number="1">iris <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb11-2" data-line-number="2"><span class="st">  </span><span class="kw"><a href="http://www.rdocumentation.org/packages/ggplot2/topics/ggplot">ggplot</a></span>(<span class="kw"><a href="http://www.rdocumentation.org/packages/ggplot2/topics/aes">aes</a></span>(Petal.Length, Petal.Width, <span class="dt">color=</span>Species)) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb11-3" data-line-number="3"><span class="st">  </span><span class="kw"><a href="http://www.rdocumentation.org/packages/ggplot2/topics/geom_point">geom_point</a></span>()</a></code></pre></div>
<p><img src="intro_files/figure-html/color_contrast_checker3-1.png" width="75%" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb12-1" data-line-number="1"></a>
<a class="sourceLine" id="cb12-2" data-line-number="2">scales<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/scales/topics/show_col">show_col</a></span>(scales<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/scales/topics/hue_pal">hue_pal</a></span>()(<span class="dv">3</span>))</a></code></pre></div>
<p><img src="intro_files/figure-html/color_contrast_checker3-2.png" width="75%" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb13-1" data-line-number="1"></a>
<a class="sourceLine" id="cb13-2" data-line-number="2"><span class="kw"><a href="../reference/color_contrast_checker.html">color_contrast_checker</a></span>(<span class="dt">foreground =</span> <span class="st">'#F8766D'</span>, <span class="dt">background =</span> <span class="st">'gray92'</span>)</a>
<a class="sourceLine" id="cb13-3" data-line-number="3">  ratio   AA AALarge  AAA AAALarge</a>
<a class="sourceLine" id="cb13-4" data-line-number="4"><span class="dv">1</span>  <span class="fl">2.26</span> fail    fail fail     fail</a>
<a class="sourceLine" id="cb13-5" data-line-number="5"><span class="kw"><a href="../reference/color_contrast_checker.html">color_contrast_checker</a></span>(<span class="dt">foreground =</span> <span class="st">'#00BA38'</span>, <span class="dt">background =</span> <span class="st">'gray92'</span>)</a>
<a class="sourceLine" id="cb13-6" data-line-number="6">  ratio   AA AALarge  AAA AAALarge</a>
<a class="sourceLine" id="cb13-7" data-line-number="7"><span class="dv">1</span>  <span class="fl">2.18</span> fail    fail fail     fail</a>
<a class="sourceLine" id="cb13-8" data-line-number="8"><span class="kw"><a href="../reference/color_contrast_checker.html">color_contrast_checker</a></span>(<span class="dt">foreground =</span> <span class="st">'#619CFF'</span>, <span class="dt">background =</span> <span class="st">'gray92'</span>)</a>
<a class="sourceLine" id="cb13-9" data-line-number="9">  ratio   AA AALarge  AAA AAALarge</a>
<a class="sourceLine" id="cb13-10" data-line-number="10"><span class="dv">1</span>  <span class="fl">2.29</span> fail    fail fail     fail</a></code></pre></div>
<p>However, if you want palettes that are colorblind-safe, print-safe etc., especially for continuous scales, you should use packages like <a href="https://github.com/sjmgarnier/viridis">viridis</a> and <a href="https://github.com/thomasp85/scico">scico</a>.</p>
</div>
<div id="descriptive-visualization" class="section level2">
<h2 class="hasAnchor">
<a href="#descriptive-visualization" class="anchor"></a>Descriptive Visualization</h2>
<p>People often want to (and should) examine correlation matrices as a prelude to modeling. One problem is that it is difficult to make much sense from the matrix when there are more than a few columns in the original data, as there are too many pairwise values present. However a little reshuffling of the rows/columns, and visually depicting the values by color can make patterns pop out quickly.</p>
<p>You have plenty of options for this sort of endeavor, such as corrplot, psych, and heatmaply. However, they offer only static plots or reorder based on a cluster analysis. I originally had <a href="https://github.com/m-clark/heatR">a function</a> that would provide some interactivity, but while utilizing a factor analytic approach. I’ve now deprecated that standalone package and brought the functionality here. The corr_heat function provides an easy way to visualize your correlations.</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb14-1" data-line-number="1"><span class="kw">data</span>(<span class="st">'bfi'</span>, <span class="dt">package =</span> <span class="st">'visibly'</span>)</a>
<a class="sourceLine" id="cb14-2" data-line-number="2">cor_matrix =<span class="st"> </span><span class="kw">cor</span>(bfi, <span class="dt">use=</span><span class="st">'pair'</span>)</a>
<a class="sourceLine" id="cb14-3" data-line-number="3"><span class="kw"><a href="../reference/corr_heat.html">corr_heat</a></span>(cor_matrix)</a></code></pre></div>
<div id="htmlwidget-cddb79659f45b0eb4e6b" style="width:75%;height:525.0000024px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-cddb79659f45b0eb4e6b">{"x":{"visdat":{"1216e3320212e":["function () ","plotlyVisDat"]},"cur_data":"1216e3320212e","attrs":{"1216e3320212e":{"z":{},"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"heatmap","colors":["#601200","#611300","#621401","#621501","#631600","#631700","#641801","#641901","#651A00","#661B00","#671C00","#671D00","#681E00","#681F00","#692000","#692100","#6A2200","#6A2200","#6B2300","#6B2400","#6C2500","#6D2600","#6E2700","#6E2800","#6F2900","#6F2900","#702A01","#702B00","#712C00","#712D00","#722E01","#722F00","#733000","#743000","#753101","#753200","#763300","#763400","#773501","#773600","#783700","#783700","#793801","#793900","#7A3A00","#7A3B00","#7C3D00","#7D3E00","#7D3E00","#7E3F00","#7E4000","#7F4100","#7F4200","#804300","#804400","#814500","#814600","#824700","#834701","#844800","#844900","#854A01","#854B01","#864C00","#864D00","#874E01","#874F01","#885002","#895002","#8A5101","#8A5201","#8B5302","#8B5402","#8C5503","#8C5603","#8D5704","#8D5804","#8E5905","#8F5A05","#905B06","#905C06","#915D07","#915E07","#925F08","#936009","#94610A","#94620B","#95630C","#95640D","#96650E","#97660F","#986810","#996912","#996A13","#9A6B15","#9B6C16","#9C6D17","#9C6E17","#9D6F19","#9E701A","#9F711C","#9F721D","#A0731E","#A0741F","#A17521","#A27622","#A37723","#A37824","#A47926","#A47A28","#A57B29","#A67C2A","#A77D2B","#A77E2D","#A87F2E","#A88030","#A98131","#AA8232","#AB8333","#AB8435","#AC8536","#AC8638","#AD873A","#AD873B","#AE883C","#AF893D","#B08A3F","#B08B40","#B18C42","#B18D43","#B28E44","#B28E45","#B38F47","#B39048","#B4914A","#B5924B","#B6944D","#B7954F","#B79550","#B89651","#B89652","#B99854","#B99955","#BA9A57","#BA9A58","#BB9B5A","#BC9C5B","#BD9D5C","#BD9E5D","#BE9F5F","#BE9F60","#BFA062","#BFA164","#C0A265","#C0A366","#C1A467","#C1A469","#C2A56A","#C2A66C","#C3A76D","#C4A86F","#C5A970","#C5AA71","#C6AB72","#C6AB74","#C7AC75","#C7AD77","#C8AE78","#C8AF7A","#C9B07C","#C9B07D","#CAB17E","#CBB27F","#CCB381","#CCB482","#CDB584","#CDB585","#CEB687","#CEB788","#CFB98A","#CFB98B","#D0BA8C","#D1BB8E","#D1BB8F","#D2BD91","#D3BE92","#D4BF94","#D4C095","#D5C197","#D5C198","#D6C29A","#D6C39B","#D7C49D","#D7C59E","#D8C6A0","#D8C6A1","#D9C7A2","#DAC8A3","#DBC9A5","#DBCAA7","#DCCBA8","#DCCCAA","#DDCDAB","#DDCDAD","#DECEAE","#DECFB0","#DFD0B1","#E0D1B3","#E1D2B4","#E1D3B6","#E2D4B7","#E2D4B9","#E3D5BB","#E3D6BC","#E4D7BD","#E4D8BE","#E5D9C0","#E5D9C1","#E6DAC3","#E6DBC4","#E7DCC6","#E7DDC7","#E8DEC9","#E8DECA","#E9DFCC","#E9E0CD","#EAE2CF","#EBE3D1","#EBE3D2","#ECE4D3","#ECE5D4","#EDE6D6","#ECE6D7","#EDE7D9","#EDE7DA","#EEE8DB","#EEE8DC","#EDE9DE","#EDE9DF","#EDEAE0","#EDEAE1","#EEEBE2","#EEEBE3","#EDECE4","#EDECE5","#ECEDE6","#ECEDE7","#EBECE8","#EBECE8","#EAEDE9","#EAEDE9","#E9ECEA","#E9ECEA","#E8EDEB","#E7EDEB","#E6ECEC","#E6ECEC","#E5EBED","#E4EBED","#E2EAEC","#E1EBEC","#E0EAED","#DFEAED","#DEE9EC","#DDE9EC","#DBE8ED","#DAE7ED","#D8E6EC","#D7E6EC","#D6E5EB","#D5E4EB","#D3E3EB","#D2E3EB","#D0E1EA","#CEE0E9","#CDE0E9","#CBDFE8","#CADEE8","#C8DDE7","#C7DCE7","#C5DBE6","#C3DAE6","#C1D9E5","#C0D8E4","#BED7E3","#BDD6E3","#BBD5E2","#BAD5E2","#B8D4E1","#B6D3E1","#B5D2E0","#B3D1DF","#B2D0DE","#B0CFDE","#AFCEDD","#ACCDDD","#ABCCDC","#A9CBDC","#A8CADB","#A6C9DA","#A5C8D9","#A3C7D9","#A1C6D8","#A0C5D8","#9FC4D7","#9DC3D6","#9BC2D5","#99C1D5","#97C0D4","#96BFD4","#94BED3","#93BED2","#91BDD1","#90BCD1","#8EBBD0","#8DBAD0","#8BB9CF","#89B8CE","#87B6CD","#85B5CC","#84B4CC","#82B3CB","#81B2CA","#7FB1C9","#7EB0C9","#7CAFC8","#7AAEC8","#78ADC7","#77ACC6","#75ABC5","#74AAC5","#72A9C4","#70A8C3","#6FA7C2","#6EA6C2","#6CA5C1","#6AA4C1","#68A3C0","#66A2BF","#65A1BE","#63A0BE","#629FBD","#609EBD","#5F9DBC","#5D9CBB","#5B9BBA","#599ABA","#5799B9","#5698B8","#5496B7","#5395B7","#5194B6","#5093B6","#4E92B5","#4D91B4","#4B90B3","#4A8FB3","#488EB2","#478DB1","#458CB0","#448BB0","#428AAF","#4089AF","#3E87AD","#3C86AC","#3B85AC","#3984AB","#3883AA","#3782A9","#3681A9","#3480A8","#337FA8","#317EA7","#307DA6","#2E7CA5","#2D7BA5","#2B7AA4","#2979A4","#2878A3","#2777A2","#2676A1","#2475A1","#2374A0","#2273A0","#21729F","#1F719E","#1E709D","#1D6F9D","#1C6E9C","#1A6D9C","#196C9B","#186B9A","#176A99","#166999","#156898","#146898","#136797","#126697","#116596","#106496","#0F6395","#0E6294","#0D6193","#0C6093","#0B5F92","#0B5F92","#0A5E91","#095D91","#085C90","#075A8F","#07598F","#06588E","#06588D","#05578C","#05568C","#04558B","#05548B","#04538A","#04538A","#035289","#045189","#035088","#034F88","#024E87","#024E87","#034D86","#034C86","#024B85","#024A85","#034984","#034984","#024883","#024783","#014682","#014682","#024581","#024481","#014380","#014280","#01417F","#01417F","#02407E","#023F7E","#013E7D","#013E7D","#023D7C","#023C7C","#013B7B","#013B7B","#023A7A","#01397A","#023779","#013779","#013678","#013577","#023477","#013376","#013376","#023275","#023175","#013074","#013074","#022F73","#022E73","#012D72","#012D72","#022C71","#022B71","#012A70","#012A70","#02296F","#02286F","#01276E","#01276E","#02266D","#02256D","#01246C","#01246C","#02236B","#02226B","#01216A","#01206A","#021F69","#021F69","#011E68","#011D68","#021C67","#021C67","#011B66","#011A66","#001965","#001865","#011764","#011764","#001663","#001563","#011362","#001362","#001261","#001260"],"inherit":true}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"scene":{"zaxis":{"title":"cormat"}},"xaxis":{"domain":[0,1],"automargin":true,"tickmode":"array","tickvals":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24],"ticktext":["N1","N2","N3","N5","N4","E2","E4","E1","E5","E3","C2","C4","C3","C5","C1","A3","A2","A5","A4","A1","O3","O5","O1","O2","O4"],"gridcolor":"transparent","zerolinecolor":"transparent","title":"","zeroline":false,"showgrid":false},"yaxis":{"domain":[0,1],"automargin":true,"tickmode":"array","tickvals":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24],"ticktext":["N1","N2","N3","N5","N4","E2","E4","E1","E5","E3","C2","C4","C3","C5","C1","A3","A2","A5","A4","A1","O3","O5","O1","O2","O4"],"gridcolor":"transparent","zerolinecolor":"transparent","title":"","autorange":"reversed","zeroline":false,"showgrid":false},"hovermode":"closest","showlegend":false,"legend":{"yanchor":"top","y":0.5},"plot_bgcolor":"transparent","paper_bgcolor":"transparent"},"source":"A","config":{"modeBarButtonsToAdd":[{"name":"Collaborate","icon":{"width":1000,"ascent":500,"descent":-50,"path":"M487 375c7-10 9-23 5-36l-79-259c-3-12-11-23-22-31-11-8-22-12-35-12l-263 0c-15 0-29 5-43 15-13 10-23 23-28 37-5 13-5 25-1 37 0 0 0 3 1 7 1 5 1 8 1 11 0 2 0 4-1 6 0 3-1 5-1 6 1 2 2 4 3 6 1 2 2 4 4 6 2 3 4 5 5 7 5 7 9 16 13 26 4 10 7 19 9 26 0 2 0 5 0 9-1 4-1 6 0 8 0 2 2 5 4 8 3 3 5 5 5 7 4 6 8 15 12 26 4 11 7 19 7 26 1 1 0 4 0 9-1 4-1 7 0 8 1 2 3 5 6 8 4 4 6 6 6 7 4 5 8 13 13 24 4 11 7 20 7 28 1 1 0 4 0 7-1 3-1 6-1 7 0 2 1 4 3 6 1 1 3 4 5 6 2 3 3 5 5 6 1 2 3 5 4 9 2 3 3 7 5 10 1 3 2 6 4 10 2 4 4 7 6 9 2 3 4 5 7 7 3 2 7 3 11 3 3 0 8 0 13-1l0-1c7 2 12 2 14 2l218 0c14 0 25-5 32-16 8-10 10-23 6-37l-79-259c-7-22-13-37-20-43-7-7-19-10-37-10l-248 0c-5 0-9-2-11-5-2-3-2-7 0-12 4-13 18-20 41-20l264 0c5 0 10 2 16 5 5 3 8 6 10 11l85 282c2 5 2 10 2 17 7-3 13-7 17-13z m-304 0c-1-3-1-5 0-7 1-1 3-2 6-2l174 0c2 0 4 1 7 2 2 2 4 4 5 7l6 18c0 3 0 5-1 7-1 1-3 2-6 2l-173 0c-3 0-5-1-8-2-2-2-4-4-4-7z m-24-73c-1-3-1-5 0-7 2-2 3-2 6-2l174 0c2 0 5 0 7 2 3 2 4 4 5 7l6 18c1 2 0 5-1 6-1 2-3 3-5 3l-174 0c-3 0-5-1-7-3-3-1-4-4-5-6z"},"click":"function(gd) { \n        // is this being viewed in RStudio?\n        if (location.search == '?viewer_pane=1') {\n          alert('To learn about plotly for collaboration, visit:\\n https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html');\n        } else {\n          window.open('https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html', '_blank');\n        }\n      }"}],"cloud":false,"displayModeBar":false},"data":[{"colorbar":{"title":"cormat","ticklen":2,"len":0.5,"lenmode":"fraction","y":1,"yanchor":"top"},"colorscale":[["0","rgba(96,18,0,1)"],["0.109004781749889","rgba(128,68,0,1)"],["0.149679036877646","rgba(141,87,4,1)"],["0.174875696009994","rgba(149,99,12,1)"],["0.19870053906251","rgba(158,112,26,1)"],["0.214252355810706","rgba(163,120,36,1)"],["0.223086983925345","rgba(166,124,42,1)"],["0.235903981664588","rgba(171,131,51,1)"],["0.251310896664278","rgba(175,137,62,1)"],["0.277815600446819","rgba(184,150,81,1)"],["0.297769862571957","rgba(190,159,94,1)"],["0.314647869390867","rgba(194,165,106,1)"],["0.322333446171684","rgba(197,169,112,1)"],["0.339584445064101","rgba(201,176,124,1)"],["0.34969961949311","rgba(205,180,131,1)"],["0.365089396430232","rgba(209,187,142,1)"],["0.38779183399292","rgba(216,198,159,1)"],["0.410677744759302","rgba(222,207,176,1)"],["0.431956629984416","rgba(229,217,191,1)"],["0.456631416982522","rgba(235,227,210,1)"],["0.498090247483157","rgba(234,237,233,1)"],["0.537443897815612","rgba(215,230,236,1)"],["0.567741514038121","rgba(191,216,228,1)"],["0.782161833138363","rgba(25,108,155,1)"],["1","rgba(0,18,96,1)"]],"showscale":true,"z":[[1,0.706980955149606,0.556425092361111,0.378126441292047,0.397805847925492,-0.166139796797517,-0.135212950894151,-0.0172086645917585,0.0380473870824753,-0.0504472597901717,-0.0206581540416361,-0.219977398039659,-0.0708633347341358,-0.211367794089211,-0.067455597861626,-0.0841061242998543,-0.0876743880900634,-0.195734732474202,-0.0989361567769352,-0.166477171092307,-0.0518617988778122,-0.109893362220429,-0.0505116785844591,-0.130076704221149,0.0788270318352384],[0.706980955149606,1,0.549103076675597,0.35061263928348,0.391570376852592,-0.193449588468677,-0.139235373313522,-0.0149723710969323,0.0356963190626331,-0.0669676396625743,-0.00897037545299197,-0.162968435733613,-0.0605325442669951,-0.248801923569979,-0.0403142435229703,-0.0883038984621069,-0.0504986976822559,-0.188078858192005,-0.143785958264312,-0.139318763862387,-0.0346430385597131,-0.0398663614343071,-0.0480907497158901,-0.126965115683409,0.130811278608007],[0.556425092361111,0.549103076675597,1,0.428418658010608,0.519504318322758,-0.196777337708233,-0.0999375177603715,-0.0509277219251766,-0.0620949706450397,-0.0207150707283181,0.00347585123883217,-0.209525775641562,-0.0663965106820421,-0.244616181426246,-0.0293283025745023,-0.0414739948810554,-0.0354921485925178,-0.13549734457634,-0.0702870399617749,-0.102695499042983,-0.0296485402495042,-0.0600912514725054,-0.0342926363753107,-0.107221060432484,0.176504950269129],[0.378126441292047,0.35061263928348,0.428418658010608,1,0.397696145790449,-0.254376690041763,-0.0923916932283032,-0.0508712822938163,-0.134319892356201,-0.0744395800029325,0.0511466385871654,-0.196580961877075,-0.0121767334821647,-0.174023071366901,-0.0533645763383805,-0.0369321153091844,0.0191684958222576,-0.0761253909080678,-0.00707864516998441,-0.0166796493046938,-0.0760202789018166,-0.135083284968601,-0.116080599038172,-0.198497818721284,0.113870121209884],[0.397805847925492,0.391570376852592,0.519504318322758,0.397696145790449,1,-0.345122615893606,-0.288088666273643,-0.229789913802751,-0.211689329897874,-0.145518035212576,-0.0450432685041319,-0.262660716117536,-0.111260596885933,-0.34302079444851,-0.0974375449499584,-0.128240465177833,-0.089711277296985,-0.202273438337966,-0.166311475349875,-0.0522036489062739,-0.0638972254491138,-0.0442058878004312,-0.0490106104203365,-0.0827760548044558,0.210215113835007],[-0.166139796797517,-0.193449588468677,-0.196777337708233,-0.254376690041763,-0.345122615893606,1,0.514121304241841,0.46715717832224,0.373853410188027,0.379973214662608,0.0601235357837458,0.201184337988117,0.0772804072732915,0.262395055972954,0.0920949520897252,0.28609003437817,0.231876017517438,0.332606389248407,0.187840853663947,0.0925706527803394,0.228756172913313,0.0791139177200009,0.159285917958203,0.0812392515373316,-0.174283912173956],[-0.135212950894151,-0.139235373313522,-0.0999375177603715,-0.0923916932283032,-0.288088666273643,0.514121304241841,1,0.418559334620748,0.315842936185614,0.419024789171853,0.123233076037994,0.107993127128806,0.0921679386055448,0.198127811005132,0.14034795164982,0.377805325832186,0.28049478867811,0.470068915999454,0.297703545570658,0.0586459508542449,0.207289306426313,-0.053880906111429,0.13658005971997,-0.0569269265841416,-0.0971067126130867],[-0.0172086645917585,-0.0149723710969323,-0.0509277219251766,-0.0508712822938163,-0.229789913802751,0.46715717832224,0.418559334620748,1,0.301703448421613,0.325257547180056,-0.0174511933303054,0.0937896222672779,0.00292323261123032,0.0639267670126172,0.0242589411952099,0.212968291337284,0.20830644920003,0.245830910376958,0.111660101167795,0.10620425855887,0.217860112709115,0.100905874511307,0.100373263566496,0.0446199266760954,-0.0778460270103736],[0.0380473870824753,0.0356963190626331,-0.0620949706450397,-0.134319892356201,-0.211689329897874,0.373853410188027,0.315842936185614,0.301703448421613,1,0.383177470270399,0.246418552847265,0.235912016183618,0.212225883704926,0.233908033568835,0.246852530387637,0.252335634110151,0.293898959102909,0.269102630217128,0.159932483228614,0.0218496273878643,0.292795401577188,0.114785749493231,0.297988600548374,0.0828688859245824,-0.00497838125842404],[-0.0504472597901717,-0.0669676396625743,-0.0207150707283181,-0.0744395800029325,-0.145518035212576,0.379973214662608,0.419024789171853,0.325257547180056,0.383177470270399,1,0.151997911052234,0.0791231272756467,0.0871265631357624,0.160812496036424,0.116280731352554,0.388542255148848,0.25102930985147,0.416118848327172,0.190078507162296,0.0464981969361962,0.393336495169878,0.112035189547548,0.326627049911677,0.0668072725914428,0.0520614422981855],[-0.0206581540416361,-0.00897037545299197,0.00347585123883217,0.0511466385871654,-0.0450432685041319,0.0601235357837458,0.123233076037994,-0.0174511933303054,0.246418552847265,0.151997911052234,1,0.379354923491756,0.355702095940416,0.297741610334596,0.427823082974817,0.141480508365201,0.13627802616019,0.113879400882742,0.232079429376951,-0.0163595157588174,0.190238747537462,0.0548672741088104,0.164803248829892,0.0412128454173418,0.0565189671092003],[-0.219977398039659,-0.162968435733613,-0.209525775641562,-0.196580961877075,-0.262660716117536,0.201184337988117,0.107993127128806,0.0937896222672779,0.235912016183618,0.0791231272756467,0.379354923491756,1,0.336721099417452,0.476370808007476,0.340165167467141,0.121342147886076,0.145889506053201,0.125266251055964,0.151839742480831,0.129669557637666,0.0781173492667867,0.197797823657027,0.0864113534716208,0.211287379428157,-0.0500355518577767],[-0.0708633347341358,-0.0605325442669951,-0.0663965106820421,-0.0121767334821647,-0.111260596885933,0.0772804072732915,0.0921679386055448,0.00292323261123032,0.212225883704926,0.0871265631357624,0.355702095940416,0.336721099417452,1,0.340112847764313,0.30773141186478,0.131539187296286,0.192486022597031,0.134267401330824,0.132221252417105,0.0193374792107994,0.0628113082069184,0.00571243245663803,0.0883124318627626,0.0285734313154719,0.017097774002605],[-0.211367794089211,-0.248801923569979,-0.244616181426246,-0.174023071366901,-0.34302079444851,0.262395055972954,0.198127811005132,0.0639267670126172,0.233908033568835,0.160812496036424,0.297741610334596,0.476370808007476,0.340112847764313,1,0.249744159048123,0.156371434264184,0.122032439167038,0.169589029577017,0.242205052126235,0.0500880367915453,0.0799437821907095,0.0554143605834648,0.0823762182854434,0.137498995188138,-0.138843051583882],[-0.067455597861626,-0.0403142435229703,-0.0293283025745023,-0.0533645763383805,-0.0974375449499584,0.0920949520897252,0.14034795164982,0.0242589411952099,0.246852530387637,0.116280731352554,0.427823082974817,0.340165167467141,0.30773141186478,0.249744159048123,1,0.0967817724082832,0.092374323514751,0.120676632424588,0.0894737839990017,-0.0278028349772177,0.19082346409316,0.11754913506333,0.167292550965385,0.113705143374039,0.109446581101948],[-0.0841061242998543,-0.0883038984621069,-0.0414739948810554,-0.0369321153091844,-0.128240465177833,0.28609003437817,0.377805325832186,0.212968291337284,0.252335634110151,0.388542255148848,0.141480508365201,0.121342147886076,0.131539187296286,0.156371434264184,0.0967817724082832,1,0.485098038519036,0.504141144146242,0.360428298573295,0.265247052442104,0.222986885770643,0.0495469726599354,0.145967388067646,-0.00129408546665409,0.0357082240104927],[-0.0876743880900634,-0.0504986976822559,-0.0354921485925178,0.0191684958222576,-0.089711277296985,0.231876017517438,0.28049478867811,0.20830644920003,0.293898959102909,0.25102930985147,0.13627802616019,0.145889506053201,0.192486022597031,0.122032439167038,0.092374323514751,0.485098038519036,1,0.390083584300781,0.335087207832391,0.340193247923751,0.163637386380779,0.0884553924108497,0.130668920773082,-0.0160210139399331,0.0879446052961516],[-0.195734732474202,-0.188078858192005,-0.13549734457634,-0.0761253909080678,-0.202273438337966,0.332606389248407,0.470068915999454,0.245830910376958,0.269102630217128,0.416118848327172,0.113879400882742,0.125266251055964,0.134267401330824,0.169589029577017,0.120676632424588,0.504141144146242,0.390083584300781,1,0.307537264525875,0.181438268467912,0.237156271000684,0.0485219730625844,0.164833276639104,-0.000758223911655076,0.016645519976138],[-0.0989361567769352,-0.143785958264312,-0.0702870399617749,-0.00707864516998441,-0.166311475349875,0.187840853663947,0.297703545570658,0.111660101167795,0.159932483228614,0.190078507162296,0.232079429376951,0.151839742480831,0.132221252417105,0.242205052126235,0.0894737839990017,0.360428298573295,0.335087207832391,0.307537264525875,1,0.146424511345907,0.0720822186063045,-0.020766363308867,0.0611309073023918,-0.0383199887387578,-0.0386250925075985],[-0.166477171092307,-0.139318763862387,-0.102695499042983,-0.0166796493046938,-0.0522036489062739,0.0925706527803394,0.0586459508542449,0.10620425855887,0.0218496273878643,0.0464981969361962,-0.0163595157588174,0.129669557637666,0.0193374792107994,0.0500880367915453,-0.0278028349772177,0.265247052442104,0.340193247923751,0.181438268467912,0.146424511345907,1,0.0633105854476691,0.114491300638515,-0.0125803645580919,0.0790568558845723,0.0776908287592856],[-0.0518617988778122,-0.0346430385597131,-0.0296485402495042,-0.0760202789018166,-0.0638972254491138,0.228756172913313,0.207289306426313,0.217860112709115,0.292795401577188,0.393336495169878,0.190238747537462,0.0781173492667867,0.0628113082069184,0.0799437821907095,0.19082346409316,0.222986885770643,0.163637386380779,0.237156271000684,0.0720822186063045,0.0633105854476691,1,0.31064040799732,0.395335920388917,0.261557955663915,0.194504772043194],[-0.109893362220429,-0.0398663614343071,-0.0600912514725054,-0.135083284968601,-0.0442058878004312,0.0791139177200009,-0.053880906111429,0.100905874511307,0.114785749493231,0.112035189547548,0.0548672741088104,0.197797823657027,0.00571243245663803,0.0554143605834648,0.11754913506333,0.0495469726599354,0.0884553924108497,0.0485219730625844,-0.020766363308867,0.114491300638515,0.31064040799732,1,0.23899211333021,0.324869840752031,0.179051240042863],[-0.0505116785844591,-0.0480907497158901,-0.0342926363753107,-0.116080599038172,-0.0490106104203365,0.159285917958203,0.13658005971997,0.100373263566496,0.297988600548374,0.326627049911677,0.164803248829892,0.0864113534716208,0.0883124318627626,0.0823762182854434,0.167292550965385,0.145967388067646,0.130668920773082,0.164833276639104,0.0611309073023918,-0.0125803645580919,0.395335920388917,0.23899211333021,1,0.213734825222145,0.178375815994618],[-0.130076704221149,-0.126965115683409,-0.107221060432484,-0.198497818721284,-0.0827760548044558,0.0812392515373316,-0.0569269265841416,0.0446199266760954,0.0828688859245824,0.0668072725914428,0.0412128454173418,0.211287379428157,0.0285734313154719,0.137498995188138,0.113705143374039,-0.00129408546665409,-0.0160210139399331,-0.000758223911655076,-0.0383199887387578,0.0790568558845723,0.261557955663915,0.324869840752031,0.213734825222145,1,0.068320304073374],[0.0788270318352384,0.130811278608007,0.176504950269129,0.113870121209884,0.210215113835007,-0.174283912173956,-0.0971067126130867,-0.0778460270103736,-0.00497838125842404,0.0520614422981855,0.0565189671092003,-0.0500355518577767,0.017097774002605,-0.138843051583882,0.109446581101948,0.0357082240104927,0.0879446052961516,0.016645519976138,-0.0386250925075985,0.0776908287592856,0.194504772043194,0.179051240042863,0.178375815994618,0.068320304073374,1]],"type":"heatmap","xaxis":"x","yaxis":"y","frame":null,"zmin":-1,"zmax":1}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"base_url":"https://plot.ly"},"evals":["config.modeBarButtonsToAdd.0.click"],"jsHooks":[]}</script><p>The psych package is used to for the factor analysis, which is better suited to survey data and similar settings, where items are of the same type, and you can supply arguments to its fa function. The plot comes from plotly, and hovering over the squares provides the value.</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb15-1" data-line-number="1"><span class="kw"><a href="../reference/corr_heat.html">corr_heat</a></span>(cor_matrix, <span class="dt">n_factors =</span> <span class="dv">2</span>, <span class="dt">psych_opts =</span> <span class="kw">list</span>(<span class="dt">fm=</span><span class="st">'ml'</span>, <span class="dt">rot=</span><span class="st">'oblimin'</span>))</a></code></pre></div>
<div id="htmlwidget-a5f2917002e6c088e053" style="width:75%;height:525.0000024px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-a5f2917002e6c088e053">{"x":{"visdat":{"1216e1b13a895":["function () ","plotlyVisDat"]},"cur_data":"1216e1b13a895","attrs":{"1216e1b13a895":{"z":{},"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"heatmap","colors":["#601200","#611300","#621401","#621501","#631600","#631700","#641801","#641901","#651A00","#661B00","#671C00","#671D00","#681E00","#681F00","#692000","#692100","#6A2200","#6A2200","#6B2300","#6B2400","#6C2500","#6D2600","#6E2700","#6E2800","#6F2900","#6F2900","#702A01","#702B00","#712C00","#712D00","#722E01","#722F00","#733000","#743000","#753101","#753200","#763300","#763400","#773501","#773600","#783700","#783700","#793801","#793900","#7A3A00","#7A3B00","#7C3D00","#7D3E00","#7D3E00","#7E3F00","#7E4000","#7F4100","#7F4200","#804300","#804400","#814500","#814600","#824700","#834701","#844800","#844900","#854A01","#854B01","#864C00","#864D00","#874E01","#874F01","#885002","#895002","#8A5101","#8A5201","#8B5302","#8B5402","#8C5503","#8C5603","#8D5704","#8D5804","#8E5905","#8F5A05","#905B06","#905C06","#915D07","#915E07","#925F08","#936009","#94610A","#94620B","#95630C","#95640D","#96650E","#97660F","#986810","#996912","#996A13","#9A6B15","#9B6C16","#9C6D17","#9C6E17","#9D6F19","#9E701A","#9F711C","#9F721D","#A0731E","#A0741F","#A17521","#A27622","#A37723","#A37824","#A47926","#A47A28","#A57B29","#A67C2A","#A77D2B","#A77E2D","#A87F2E","#A88030","#A98131","#AA8232","#AB8333","#AB8435","#AC8536","#AC8638","#AD873A","#AD873B","#AE883C","#AF893D","#B08A3F","#B08B40","#B18C42","#B18D43","#B28E44","#B28E45","#B38F47","#B39048","#B4914A","#B5924B","#B6944D","#B7954F","#B79550","#B89651","#B89652","#B99854","#B99955","#BA9A57","#BA9A58","#BB9B5A","#BC9C5B","#BD9D5C","#BD9E5D","#BE9F5F","#BE9F60","#BFA062","#BFA164","#C0A265","#C0A366","#C1A467","#C1A469","#C2A56A","#C2A66C","#C3A76D","#C4A86F","#C5A970","#C5AA71","#C6AB72","#C6AB74","#C7AC75","#C7AD77","#C8AE78","#C8AF7A","#C9B07C","#C9B07D","#CAB17E","#CBB27F","#CCB381","#CCB482","#CDB584","#CDB585","#CEB687","#CEB788","#CFB98A","#CFB98B","#D0BA8C","#D1BB8E","#D1BB8F","#D2BD91","#D3BE92","#D4BF94","#D4C095","#D5C197","#D5C198","#D6C29A","#D6C39B","#D7C49D","#D7C59E","#D8C6A0","#D8C6A1","#D9C7A2","#DAC8A3","#DBC9A5","#DBCAA7","#DCCBA8","#DCCCAA","#DDCDAB","#DDCDAD","#DECEAE","#DECFB0","#DFD0B1","#E0D1B3","#E1D2B4","#E1D3B6","#E2D4B7","#E2D4B9","#E3D5BB","#E3D6BC","#E4D7BD","#E4D8BE","#E5D9C0","#E5D9C1","#E6DAC3","#E6DBC4","#E7DCC6","#E7DDC7","#E8DEC9","#E8DECA","#E9DFCC","#E9E0CD","#EAE2CF","#EBE3D1","#EBE3D2","#ECE4D3","#ECE5D4","#EDE6D6","#ECE6D7","#EDE7D9","#EDE7DA","#EEE8DB","#EEE8DC","#EDE9DE","#EDE9DF","#EDEAE0","#EDEAE1","#EEEBE2","#EEEBE3","#EDECE4","#EDECE5","#ECEDE6","#ECEDE7","#EBECE8","#EBECE8","#EAEDE9","#EAEDE9","#E9ECEA","#E9ECEA","#E8EDEB","#E7EDEB","#E6ECEC","#E6ECEC","#E5EBED","#E4EBED","#E2EAEC","#E1EBEC","#E0EAED","#DFEAED","#DEE9EC","#DDE9EC","#DBE8ED","#DAE7ED","#D8E6EC","#D7E6EC","#D6E5EB","#D5E4EB","#D3E3EB","#D2E3EB","#D0E1EA","#CEE0E9","#CDE0E9","#CBDFE8","#CADEE8","#C8DDE7","#C7DCE7","#C5DBE6","#C3DAE6","#C1D9E5","#C0D8E4","#BED7E3","#BDD6E3","#BBD5E2","#BAD5E2","#B8D4E1","#B6D3E1","#B5D2E0","#B3D1DF","#B2D0DE","#B0CFDE","#AFCEDD","#ACCDDD","#ABCCDC","#A9CBDC","#A8CADB","#A6C9DA","#A5C8D9","#A3C7D9","#A1C6D8","#A0C5D8","#9FC4D7","#9DC3D6","#9BC2D5","#99C1D5","#97C0D4","#96BFD4","#94BED3","#93BED2","#91BDD1","#90BCD1","#8EBBD0","#8DBAD0","#8BB9CF","#89B8CE","#87B6CD","#85B5CC","#84B4CC","#82B3CB","#81B2CA","#7FB1C9","#7EB0C9","#7CAFC8","#7AAEC8","#78ADC7","#77ACC6","#75ABC5","#74AAC5","#72A9C4","#70A8C3","#6FA7C2","#6EA6C2","#6CA5C1","#6AA4C1","#68A3C0","#66A2BF","#65A1BE","#63A0BE","#629FBD","#609EBD","#5F9DBC","#5D9CBB","#5B9BBA","#599ABA","#5799B9","#5698B8","#5496B7","#5395B7","#5194B6","#5093B6","#4E92B5","#4D91B4","#4B90B3","#4A8FB3","#488EB2","#478DB1","#458CB0","#448BB0","#428AAF","#4089AF","#3E87AD","#3C86AC","#3B85AC","#3984AB","#3883AA","#3782A9","#3681A9","#3480A8","#337FA8","#317EA7","#307DA6","#2E7CA5","#2D7BA5","#2B7AA4","#2979A4","#2878A3","#2777A2","#2676A1","#2475A1","#2374A0","#2273A0","#21729F","#1F719E","#1E709D","#1D6F9D","#1C6E9C","#1A6D9C","#196C9B","#186B9A","#176A99","#166999","#156898","#146898","#136797","#126697","#116596","#106496","#0F6395","#0E6294","#0D6193","#0C6093","#0B5F92","#0B5F92","#0A5E91","#095D91","#085C90","#075A8F","#07598F","#06588E","#06588D","#05578C","#05568C","#04558B","#05548B","#04538A","#04538A","#035289","#045189","#035088","#034F88","#024E87","#024E87","#034D86","#034C86","#024B85","#024A85","#034984","#034984","#024883","#024783","#014682","#014682","#024581","#024481","#014380","#014280","#01417F","#01417F","#02407E","#023F7E","#013E7D","#013E7D","#023D7C","#023C7C","#013B7B","#013B7B","#023A7A","#01397A","#023779","#013779","#013678","#013577","#023477","#013376","#013376","#023275","#023175","#013074","#013074","#022F73","#022E73","#012D72","#012D72","#022C71","#022B71","#012A70","#012A70","#02296F","#02286F","#01276E","#01276E","#02266D","#02256D","#01246C","#01246C","#02236B","#02226B","#01216A","#01206A","#021F69","#021F69","#011E68","#011D68","#021C67","#021C67","#011B66","#011A66","#001965","#001865","#011764","#011764","#001663","#001563","#011362","#001362","#001261","#001260"],"inherit":true}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"scene":{"zaxis":{"title":"cormat"}},"xaxis":{"domain":[0,1],"automargin":true,"tickmode":"array","tickvals":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24],"ticktext":["N1","N2","N3","N5","C4","C2","C5","C3","C1","A3","A2","A5","A4","A1","E2","E1","E4","N4","E5","E3","O3","O1","O5","O2","O4"],"gridcolor":"transparent","zerolinecolor":"transparent","title":"","zeroline":false,"showgrid":false},"yaxis":{"domain":[0,1],"automargin":true,"tickmode":"array","tickvals":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24],"ticktext":["N1","N2","N3","N5","C4","C2","C5","C3","C1","A3","A2","A5","A4","A1","E2","E1","E4","N4","E5","E3","O3","O1","O5","O2","O4"],"gridcolor":"transparent","zerolinecolor":"transparent","title":"","autorange":"reversed","zeroline":false,"showgrid":false},"hovermode":"closest","showlegend":false,"legend":{"yanchor":"top","y":0.5},"plot_bgcolor":"transparent","paper_bgcolor":"transparent"},"source":"A","config":{"modeBarButtonsToAdd":[{"name":"Collaborate","icon":{"width":1000,"ascent":500,"descent":-50,"path":"M487 375c7-10 9-23 5-36l-79-259c-3-12-11-23-22-31-11-8-22-12-35-12l-263 0c-15 0-29 5-43 15-13 10-23 23-28 37-5 13-5 25-1 37 0 0 0 3 1 7 1 5 1 8 1 11 0 2 0 4-1 6 0 3-1 5-1 6 1 2 2 4 3 6 1 2 2 4 4 6 2 3 4 5 5 7 5 7 9 16 13 26 4 10 7 19 9 26 0 2 0 5 0 9-1 4-1 6 0 8 0 2 2 5 4 8 3 3 5 5 5 7 4 6 8 15 12 26 4 11 7 19 7 26 1 1 0 4 0 9-1 4-1 7 0 8 1 2 3 5 6 8 4 4 6 6 6 7 4 5 8 13 13 24 4 11 7 20 7 28 1 1 0 4 0 7-1 3-1 6-1 7 0 2 1 4 3 6 1 1 3 4 5 6 2 3 3 5 5 6 1 2 3 5 4 9 2 3 3 7 5 10 1 3 2 6 4 10 2 4 4 7 6 9 2 3 4 5 7 7 3 2 7 3 11 3 3 0 8 0 13-1l0-1c7 2 12 2 14 2l218 0c14 0 25-5 32-16 8-10 10-23 6-37l-79-259c-7-22-13-37-20-43-7-7-19-10-37-10l-248 0c-5 0-9-2-11-5-2-3-2-7 0-12 4-13 18-20 41-20l264 0c5 0 10 2 16 5 5 3 8 6 10 11l85 282c2 5 2 10 2 17 7-3 13-7 17-13z m-304 0c-1-3-1-5 0-7 1-1 3-2 6-2l174 0c2 0 4 1 7 2 2 2 4 4 5 7l6 18c0 3 0 5-1 7-1 1-3 2-6 2l-173 0c-3 0-5-1-8-2-2-2-4-4-4-7z m-24-73c-1-3-1-5 0-7 2-2 3-2 6-2l174 0c2 0 5 0 7 2 3 2 4 4 5 7l6 18c1 2 0 5-1 6-1 2-3 3-5 3l-174 0c-3 0-5-1-7-3-3-1-4-4-5-6z"},"click":"function(gd) { \n        // is this being viewed in RStudio?\n        if (location.search == '?viewer_pane=1') {\n          alert('To learn about plotly for collaboration, visit:\\n https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html');\n        } else {\n          window.open('https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html', '_blank');\n        }\n      }"}],"cloud":false,"displayModeBar":false},"data":[{"colorbar":{"title":"cormat","ticklen":2,"len":0.5,"lenmode":"fraction","y":1,"yanchor":"top"},"colorscale":[["0","rgba(96,18,0,1)"],["0.109004781749889","rgba(128,68,0,1)"],["0.149679036877646","rgba(141,87,4,1)"],["0.174875696009994","rgba(149,99,12,1)"],["0.19870053906251","rgba(158,112,26,1)"],["0.214252355810706","rgba(163,120,36,1)"],["0.223086983925345","rgba(166,124,42,1)"],["0.235903981664588","rgba(171,131,51,1)"],["0.251310896664278","rgba(175,137,62,1)"],["0.277815600446819","rgba(184,150,81,1)"],["0.297769862571957","rgba(190,159,94,1)"],["0.314647869390867","rgba(194,165,106,1)"],["0.322333446171684","rgba(197,169,112,1)"],["0.339584445064101","rgba(201,176,124,1)"],["0.34969961949311","rgba(205,180,131,1)"],["0.365089396430232","rgba(209,187,142,1)"],["0.38779183399292","rgba(216,198,159,1)"],["0.410677744759302","rgba(222,207,176,1)"],["0.431956629984416","rgba(229,217,191,1)"],["0.456631416982522","rgba(235,227,210,1)"],["0.498090247483157","rgba(234,237,233,1)"],["0.537443897815612","rgba(215,230,236,1)"],["0.567741514038121","rgba(191,216,228,1)"],["0.782161833138363","rgba(25,108,155,1)"],["1","rgba(0,18,96,1)"]],"showscale":true,"z":[[1,0.706980955149606,0.556425092361111,0.378126441292047,-0.219977398039659,-0.0206581540416361,-0.211367794089211,-0.0708633347341358,-0.067455597861626,-0.0841061242998543,-0.0876743880900634,-0.195734732474202,-0.0989361567769352,-0.166477171092307,-0.166139796797517,-0.0172086645917585,-0.135212950894151,0.397805847925492,0.0380473870824753,-0.0504472597901717,-0.0518617988778122,-0.0505116785844591,-0.109893362220429,-0.130076704221149,0.0788270318352384],[0.706980955149606,1,0.549103076675597,0.35061263928348,-0.162968435733613,-0.00897037545299197,-0.248801923569979,-0.0605325442669951,-0.0403142435229703,-0.0883038984621069,-0.0504986976822559,-0.188078858192005,-0.143785958264312,-0.139318763862387,-0.193449588468677,-0.0149723710969323,-0.139235373313522,0.391570376852592,0.0356963190626331,-0.0669676396625743,-0.0346430385597131,-0.0480907497158901,-0.0398663614343071,-0.126965115683409,0.130811278608007],[0.556425092361111,0.549103076675597,1,0.428418658010608,-0.209525775641562,0.00347585123883217,-0.244616181426246,-0.0663965106820421,-0.0293283025745023,-0.0414739948810554,-0.0354921485925178,-0.13549734457634,-0.0702870399617749,-0.102695499042983,-0.196777337708233,-0.0509277219251766,-0.0999375177603715,0.519504318322758,-0.0620949706450397,-0.0207150707283181,-0.0296485402495042,-0.0342926363753107,-0.0600912514725054,-0.107221060432484,0.176504950269129],[0.378126441292047,0.35061263928348,0.428418658010608,1,-0.196580961877075,0.0511466385871654,-0.174023071366901,-0.0121767334821647,-0.0533645763383805,-0.0369321153091844,0.0191684958222576,-0.0761253909080678,-0.00707864516998441,-0.0166796493046938,-0.254376690041763,-0.0508712822938163,-0.0923916932283032,0.397696145790449,-0.134319892356201,-0.0744395800029325,-0.0760202789018166,-0.116080599038172,-0.135083284968601,-0.198497818721284,0.113870121209884],[-0.219977398039659,-0.162968435733613,-0.209525775641562,-0.196580961877075,1,0.379354923491756,0.476370808007476,0.336721099417452,0.340165167467141,0.121342147886076,0.145889506053201,0.125266251055964,0.151839742480831,0.129669557637666,0.201184337988117,0.0937896222672779,0.107993127128806,-0.262660716117536,0.235912016183618,0.0791231272756467,0.0781173492667867,0.0864113534716208,0.197797823657027,0.211287379428157,-0.0500355518577767],[-0.0206581540416361,-0.00897037545299197,0.00347585123883217,0.0511466385871654,0.379354923491756,1,0.297741610334596,0.355702095940416,0.427823082974817,0.141480508365201,0.13627802616019,0.113879400882742,0.232079429376951,-0.0163595157588174,0.0601235357837458,-0.0174511933303054,0.123233076037994,-0.0450432685041319,0.246418552847265,0.151997911052234,0.190238747537462,0.164803248829892,0.0548672741088104,0.0412128454173418,0.0565189671092003],[-0.211367794089211,-0.248801923569979,-0.244616181426246,-0.174023071366901,0.476370808007476,0.297741610334596,1,0.340112847764313,0.249744159048123,0.156371434264184,0.122032439167038,0.169589029577017,0.242205052126235,0.0500880367915453,0.262395055972954,0.0639267670126172,0.198127811005132,-0.34302079444851,0.233908033568835,0.160812496036424,0.0799437821907095,0.0823762182854434,0.0554143605834648,0.137498995188138,-0.138843051583882],[-0.0708633347341358,-0.0605325442669951,-0.0663965106820421,-0.0121767334821647,0.336721099417452,0.355702095940416,0.340112847764313,1,0.30773141186478,0.131539187296286,0.192486022597031,0.134267401330824,0.132221252417105,0.0193374792107994,0.0772804072732915,0.00292323261123032,0.0921679386055448,-0.111260596885933,0.212225883704926,0.0871265631357624,0.0628113082069184,0.0883124318627626,0.00571243245663803,0.0285734313154719,0.017097774002605],[-0.067455597861626,-0.0403142435229703,-0.0293283025745023,-0.0533645763383805,0.340165167467141,0.427823082974817,0.249744159048123,0.30773141186478,1,0.0967817724082832,0.092374323514751,0.120676632424588,0.0894737839990017,-0.0278028349772177,0.0920949520897252,0.0242589411952099,0.14034795164982,-0.0974375449499584,0.246852530387637,0.116280731352554,0.19082346409316,0.167292550965385,0.11754913506333,0.113705143374039,0.109446581101948],[-0.0841061242998543,-0.0883038984621069,-0.0414739948810554,-0.0369321153091844,0.121342147886076,0.141480508365201,0.156371434264184,0.131539187296286,0.0967817724082832,1,0.485098038519036,0.504141144146242,0.360428298573295,0.265247052442104,0.28609003437817,0.212968291337284,0.377805325832186,-0.128240465177833,0.252335634110151,0.388542255148848,0.222986885770643,0.145967388067646,0.0495469726599354,-0.00129408546665409,0.0357082240104927],[-0.0876743880900634,-0.0504986976822559,-0.0354921485925178,0.0191684958222576,0.145889506053201,0.13627802616019,0.122032439167038,0.192486022597031,0.092374323514751,0.485098038519036,1,0.390083584300781,0.335087207832391,0.340193247923751,0.231876017517438,0.20830644920003,0.28049478867811,-0.089711277296985,0.293898959102909,0.25102930985147,0.163637386380779,0.130668920773082,0.0884553924108497,-0.0160210139399331,0.0879446052961516],[-0.195734732474202,-0.188078858192005,-0.13549734457634,-0.0761253909080678,0.125266251055964,0.113879400882742,0.169589029577017,0.134267401330824,0.120676632424588,0.504141144146242,0.390083584300781,1,0.307537264525875,0.181438268467912,0.332606389248407,0.245830910376958,0.470068915999454,-0.202273438337966,0.269102630217128,0.416118848327172,0.237156271000684,0.164833276639104,0.0485219730625844,-0.000758223911655076,0.016645519976138],[-0.0989361567769352,-0.143785958264312,-0.0702870399617749,-0.00707864516998441,0.151839742480831,0.232079429376951,0.242205052126235,0.132221252417105,0.0894737839990017,0.360428298573295,0.335087207832391,0.307537264525875,1,0.146424511345907,0.187840853663947,0.111660101167795,0.297703545570658,-0.166311475349875,0.159932483228614,0.190078507162296,0.0720822186063045,0.0611309073023918,-0.020766363308867,-0.0383199887387578,-0.0386250925075985],[-0.166477171092307,-0.139318763862387,-0.102695499042983,-0.0166796493046938,0.129669557637666,-0.0163595157588174,0.0500880367915453,0.0193374792107994,-0.0278028349772177,0.265247052442104,0.340193247923751,0.181438268467912,0.146424511345907,1,0.0925706527803394,0.10620425855887,0.0586459508542449,-0.0522036489062739,0.0218496273878643,0.0464981969361962,0.0633105854476691,-0.0125803645580919,0.114491300638515,0.0790568558845723,0.0776908287592856],[-0.166139796797517,-0.193449588468677,-0.196777337708233,-0.254376690041763,0.201184337988117,0.0601235357837458,0.262395055972954,0.0772804072732915,0.0920949520897252,0.28609003437817,0.231876017517438,0.332606389248407,0.187840853663947,0.0925706527803394,1,0.46715717832224,0.514121304241841,-0.345122615893606,0.373853410188027,0.379973214662608,0.228756172913313,0.159285917958203,0.0791139177200009,0.0812392515373316,-0.174283912173956],[-0.0172086645917585,-0.0149723710969323,-0.0509277219251766,-0.0508712822938163,0.0937896222672779,-0.0174511933303054,0.0639267670126172,0.00292323261123032,0.0242589411952099,0.212968291337284,0.20830644920003,0.245830910376958,0.111660101167795,0.10620425855887,0.46715717832224,1,0.418559334620748,-0.229789913802751,0.301703448421613,0.325257547180056,0.217860112709115,0.100373263566496,0.100905874511307,0.0446199266760954,-0.0778460270103736],[-0.135212950894151,-0.139235373313522,-0.0999375177603715,-0.0923916932283032,0.107993127128806,0.123233076037994,0.198127811005132,0.0921679386055448,0.14034795164982,0.377805325832186,0.28049478867811,0.470068915999454,0.297703545570658,0.0586459508542449,0.514121304241841,0.418559334620748,1,-0.288088666273643,0.315842936185614,0.419024789171853,0.207289306426313,0.13658005971997,-0.053880906111429,-0.0569269265841416,-0.0971067126130867],[0.397805847925492,0.391570376852592,0.519504318322758,0.397696145790449,-0.262660716117536,-0.0450432685041319,-0.34302079444851,-0.111260596885933,-0.0974375449499584,-0.128240465177833,-0.089711277296985,-0.202273438337966,-0.166311475349875,-0.0522036489062739,-0.345122615893606,-0.229789913802751,-0.288088666273643,1,-0.211689329897874,-0.145518035212576,-0.0638972254491138,-0.0490106104203365,-0.0442058878004312,-0.0827760548044558,0.210215113835007],[0.0380473870824753,0.0356963190626331,-0.0620949706450397,-0.134319892356201,0.235912016183618,0.246418552847265,0.233908033568835,0.212225883704926,0.246852530387637,0.252335634110151,0.293898959102909,0.269102630217128,0.159932483228614,0.0218496273878643,0.373853410188027,0.301703448421613,0.315842936185614,-0.211689329897874,1,0.383177470270399,0.292795401577188,0.297988600548374,0.114785749493231,0.0828688859245824,-0.00497838125842404],[-0.0504472597901717,-0.0669676396625743,-0.0207150707283181,-0.0744395800029325,0.0791231272756467,0.151997911052234,0.160812496036424,0.0871265631357624,0.116280731352554,0.388542255148848,0.25102930985147,0.416118848327172,0.190078507162296,0.0464981969361962,0.379973214662608,0.325257547180056,0.419024789171853,-0.145518035212576,0.383177470270399,1,0.393336495169878,0.326627049911677,0.112035189547548,0.0668072725914428,0.0520614422981855],[-0.0518617988778122,-0.0346430385597131,-0.0296485402495042,-0.0760202789018166,0.0781173492667867,0.190238747537462,0.0799437821907095,0.0628113082069184,0.19082346409316,0.222986885770643,0.163637386380779,0.237156271000684,0.0720822186063045,0.0633105854476691,0.228756172913313,0.217860112709115,0.207289306426313,-0.0638972254491138,0.292795401577188,0.393336495169878,1,0.395335920388917,0.31064040799732,0.261557955663915,0.194504772043194],[-0.0505116785844591,-0.0480907497158901,-0.0342926363753107,-0.116080599038172,0.0864113534716208,0.164803248829892,0.0823762182854434,0.0883124318627626,0.167292550965385,0.145967388067646,0.130668920773082,0.164833276639104,0.0611309073023918,-0.0125803645580919,0.159285917958203,0.100373263566496,0.13658005971997,-0.0490106104203365,0.297988600548374,0.326627049911677,0.395335920388917,1,0.23899211333021,0.213734825222145,0.178375815994618],[-0.109893362220429,-0.0398663614343071,-0.0600912514725054,-0.135083284968601,0.197797823657027,0.0548672741088104,0.0554143605834648,0.00571243245663803,0.11754913506333,0.0495469726599354,0.0884553924108497,0.0485219730625844,-0.020766363308867,0.114491300638515,0.0791139177200009,0.100905874511307,-0.053880906111429,-0.0442058878004312,0.114785749493231,0.112035189547548,0.31064040799732,0.23899211333021,1,0.324869840752031,0.179051240042863],[-0.130076704221149,-0.126965115683409,-0.107221060432484,-0.198497818721284,0.211287379428157,0.0412128454173418,0.137498995188138,0.0285734313154719,0.113705143374039,-0.00129408546665409,-0.0160210139399331,-0.000758223911655076,-0.0383199887387578,0.0790568558845723,0.0812392515373316,0.0446199266760954,-0.0569269265841416,-0.0827760548044558,0.0828688859245824,0.0668072725914428,0.261557955663915,0.213734825222145,0.324869840752031,1,0.068320304073374],[0.0788270318352384,0.130811278608007,0.176504950269129,0.113870121209884,-0.0500355518577767,0.0565189671092003,-0.138843051583882,0.017097774002605,0.109446581101948,0.0357082240104927,0.0879446052961516,0.016645519976138,-0.0386250925075985,0.0776908287592856,-0.174283912173956,-0.0778460270103736,-0.0971067126130867,0.210215113835007,-0.00497838125842404,0.0520614422981855,0.194504772043194,0.178375815994618,0.179051240042863,0.068320304073374,1]],"type":"heatmap","xaxis":"x","yaxis":"y","frame":null,"zmin":-1,"zmax":1}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"base_url":"https://plot.ly"},"evals":["config.modeBarButtonsToAdd.0.click"],"jsHooks":[]}</script><p>The color scheme is based on the previously mentioned scico package.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb16-1" data-line-number="1"><span class="kw"><a href="../reference/corr_heat.html">corr_heat</a></span>(cor_matrix, <span class="dt">pal =</span> <span class="st">'broc'</span>)</a></code></pre></div>
<div id="htmlwidget-5741bec668259a3905b1" style="width:75%;height:525.0000024px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-5741bec668259a3905b1">{"x":{"visdat":{"1216e34701491":["function () ","plotlyVisDat"]},"cur_data":"1216e34701491","attrs":{"1216e34701491":{"z":{},"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"heatmap","colors":["#262600","#272702","#282803","#282903","#292A04","#2A2A05","#2B2B06","#2B2C06","#2C2D07","#2D2D08","#2E2E09","#2E2F09","#2F300A","#30310B","#31320C","#32320C","#33330D","#33340D","#34350E","#35360F","#363710","#373710","#383811","#393911","#3A3A12","#3A3B12","#3B3C13","#3C3C14","#3D3D15","#3E3E15","#3F3F16","#404016","#414117","#424218","#434319","#434319","#44441A","#45451B","#46461C","#47471C","#48481D","#49491D","#4A4A1E","#4B4B1F","#4D4D20","#4D4D20","#4E4E21","#4F4F23","#4F4F24","#515125","#525225","#535326","#545427","#555528","#565628","#575729","#58582A","#59592B","#5A5A2B","#5B5B2C","#5C5C2D","#5D5D2E","#5E5D2F","#5F5E30","#5F5F30","#606031","#616132","#626233","#636333","#646434","#656535","#666636","#676737","#686838","#696938","#6A6A39","#6B6B3A","#6C6C3B","#6D6D3C","#6E6E3D","#6F6F3D","#70703E","#71713F","#727240","#737341","#747442","#757542","#767643","#777744","#787845","#797946","#7B7B48","#7C7C49","#7D7D49","#7E7E4A","#7F7F4A","#80804C","#81814D","#82824E","#83834E","#84844F","#858550","#868651","#878752","#888853","#898954","#8A8A55","#8B8B55","#8C8C56","#8D8D57","#8E8E58","#8F8F59","#90905A","#92915B","#93925C","#94945C","#95955D","#96965E","#97975F","#989860","#999961","#9A9A62","#9B9B63","#9C9C63","#9D9D64","#9E9E65","#9F9F66","#A0A067","#A1A168","#A2A269","#A3A36A","#A4A46B","#A5A56C","#A6A66D","#A8A86F","#A9A96F","#ABAB70","#ACAC71","#ADAD71","#AEAE73","#AFAF74","#B0B075","#B1B176","#B2B277","#B3B378","#B4B479","#B5B57A","#B6B67B","#B7B77C","#B8B87D","#B9B97E","#BABA80","#BBBB81","#BCBC82","#BDBD83","#BEBE84","#BFBF85","#C0C086","#C1C187","#C2C288","#C3C38A","#C4C48B","#C5C58C","#C6C68D","#C7C78E","#C8C88F","#C9C991","#CACA92","#CACA93","#CBCB95","#CCCC96","#CDCD97","#CECE98","#CFCF99","#CFCF9A","#D0D09C","#D1D19D","#D2D29E","#D2D29F","#D3D3A1","#D4D3A2","#D5D4A4","#D6D6A5","#D6D6A6","#D7D7A8","#D8D7A9","#D9D8AA","#D9D9AA","#DADAAC","#DADAAD","#DBDBAF","#DBDBB0","#DCDCB1","#DCDCB2","#DDDDB3","#DDDDB5","#DEDEB6","#DFDEB7","#E0DFB8","#E0DFBA","#E1E0BB","#E1E1BC","#E2E2BD","#E2E2BE","#E3E3BF","#E3E3C1","#E4E4C2","#E4E4C3","#E5E5C4","#E5E5C5","#E6E6C6","#E6E6C8","#E7E7C9","#E7E7CA","#E8E8CB","#E8E8CC","#E9E9CE","#E9E9CF","#EAEAD0","#EAEAD1","#EBEBD2","#EBEBD3","#ECECD5","#ECECD6","#EDEDD8","#ECEDD8","#EDEED9","#EEEEDB","#EEEEDC","#EFEFDD","#EFEFDE","#F0F0DF","#F0EFE0","#EFF0E1","#EFF0E2","#F0F1E3","#F0F0E4","#F1F1E5","#F1F1E6","#F0F2E7","#F0F2E7","#F1F1E8","#F1F1E9","#F0F1EA","#F0F1EA","#EFF2EB","#F0F2EB","#EFF1EC","#EFF1EC","#EEF0ED","#EEF1ED","#EDF0EE","#EDF0ED","#ECEFEE","#ECF0EE","#EBEFEF","#EBEFEF","#EAEEEE","#E9EEEE","#E8EDEF","#E7ECEF","#E6EBEE","#E6EBEE","#E5EAED","#E4EAEE","#E3E9ED","#E2E8ED","#E1E7EC","#E0E7ED","#DEE6EC","#DDE5EC","#DBE4EB","#DBE4EB","#DAE3EA","#D8E1E9","#D7E0E9","#D5DFE8","#D4DEE8","#D3DDE7","#D2DDE7","#D1DCE6","#D0DBE6","#CEDAE5","#CDD9E4","#CCD8E3","#CBD7E3","#C9D6E2","#C8D5E2","#C7D4E1","#C5D3E1","#C4D2E0","#C3D1DF","#C2D0DE","#C0D0DE","#BFCFDD","#BECEDD","#BDCDDC","#BBCCDC","#BACBDB","#B9CADA","#B8C9D9","#B6C8D9","#B5C7D8","#B4C6D8","#B3C5D7","#B2C4D6","#B0C3D5","#AFC2D5","#AEC1D4","#ADC1D4","#ABC0D3","#AABFD3","#A9BED2","#A8BDD1","#A6BCD0","#A5BBD0","#A4BACF","#A3B9CF","#A1B8CD","#9FB6CC","#9EB5CC","#9DB4CB","#9DB4CB","#9BB3CA","#9AB2CA","#98B1C9","#97B0C8","#96AFC7","#95AEC7","#93ADC6","#92ACC6","#91ABC5","#90AAC5","#8EA9C4","#8DA9C3","#8CA8C2","#8BA7C2","#8AA6C1","#88A5C1","#87A4C0","#86A3BF","#85A2BE","#84A1BE","#83A0BD","#819FBD","#809EBC","#7F9EBC","#7E9DBB","#7C9CBA","#7B9BB9","#7A9AB9","#7999B8","#7898B8","#7697B7","#7596B7","#7495B6","#7395B5","#7294B4","#7193B4","#6F92B3","#6E91B3","#6C90B2","#6C8FB2","#6B8DB0","#698CAF","#688CAF","#668BAE","#658BAE","#6489AD","#6388AD","#6287AC","#6186AB","#5F85AA","#5E84AA","#5D83A9","#5C83A9","#5B82A8","#5A81A8","#5880A7","#577FA7","#567EA6","#557DA5","#547CA4","#537CA4","#527BA3","#507AA3","#4F79A2","#4E78A2","#4D77A1","#4C76A0","#4B759F","#4A749F","#49739E","#48739E","#47729D","#45719D","#44709C","#436F9B","#426E9A","#416D9A","#406C99","#3F6C99","#3E6B98","#3D6A97","#3C6996","#3B6896","#3A6795","#3A6695","#396494","#376392","#366392","#356291","#346291","#336090","#335F8F","#325E8E","#325D8E","#315C8D","#305C8C","#2F5B8B","#2F5A8B","#2E598A","#2E5889","#2D5788","#2D5688","#2C5587","#2C5586","#2B5485","#2B5385","#2A5284","#2B5183","#2A5082","#2A4F82","#294E81","#2A4E80","#294D7F","#294C7E","#284B7D","#284A7D","#29497C","#29497B","#28487A","#28477A","#294679","#294578","#284477","#284476","#294375","#284275","#294074","#284073","#283F72","#283F72","#293E71","#283C6F","#293C6E","#283B6D","#283B6D","#29396C","#29386B","#28376A","#28376A","#293669","#293568","#2A3467","#2A3467","#293366","#293265","#2A3164","#293163","#2A3062","#2A2F62","#292E61","#292E60","#2A2D5F","#2A2C5F","#2B2B5E","#2B2B5D","#2A2A5C","#2A295C","#2B285B","#2B275A","#2A2659","#2B2659","#2A2558","#2A2457","#2B2356","#2B2355","#2A2254","#2A2154","#2B2053","#2B2052","#2C1F51","#2C1E51","#2B1D50","#2B1D4F","#2C1C4E","#2C1B4E","#2B1A4D","#2C194C"],"inherit":true}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"scene":{"zaxis":{"title":"cormat"}},"xaxis":{"domain":[0,1],"automargin":true,"tickmode":"array","tickvals":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24],"ticktext":["N1","N2","N3","N5","N4","E2","E4","E1","E5","E3","C2","C4","C3","C5","C1","A3","A2","A5","A4","A1","O3","O5","O1","O2","O4"],"gridcolor":"transparent","zerolinecolor":"transparent","title":"","zeroline":false,"showgrid":false},"yaxis":{"domain":[0,1],"automargin":true,"tickmode":"array","tickvals":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24],"ticktext":["N1","N2","N3","N5","N4","E2","E4","E1","E5","E3","C2","C4","C3","C5","C1","A3","A2","A5","A4","A1","O3","O5","O1","O2","O4"],"gridcolor":"transparent","zerolinecolor":"transparent","title":"","autorange":"reversed","zeroline":false,"showgrid":false},"hovermode":"closest","showlegend":false,"legend":{"yanchor":"top","y":0.5},"plot_bgcolor":"transparent","paper_bgcolor":"transparent"},"source":"A","config":{"modeBarButtonsToAdd":[{"name":"Collaborate","icon":{"width":1000,"ascent":500,"descent":-50,"path":"M487 375c7-10 9-23 5-36l-79-259c-3-12-11-23-22-31-11-8-22-12-35-12l-263 0c-15 0-29 5-43 15-13 10-23 23-28 37-5 13-5 25-1 37 0 0 0 3 1 7 1 5 1 8 1 11 0 2 0 4-1 6 0 3-1 5-1 6 1 2 2 4 3 6 1 2 2 4 4 6 2 3 4 5 5 7 5 7 9 16 13 26 4 10 7 19 9 26 0 2 0 5 0 9-1 4-1 6 0 8 0 2 2 5 4 8 3 3 5 5 5 7 4 6 8 15 12 26 4 11 7 19 7 26 1 1 0 4 0 9-1 4-1 7 0 8 1 2 3 5 6 8 4 4 6 6 6 7 4 5 8 13 13 24 4 11 7 20 7 28 1 1 0 4 0 7-1 3-1 6-1 7 0 2 1 4 3 6 1 1 3 4 5 6 2 3 3 5 5 6 1 2 3 5 4 9 2 3 3 7 5 10 1 3 2 6 4 10 2 4 4 7 6 9 2 3 4 5 7 7 3 2 7 3 11 3 3 0 8 0 13-1l0-1c7 2 12 2 14 2l218 0c14 0 25-5 32-16 8-10 10-23 6-37l-79-259c-7-22-13-37-20-43-7-7-19-10-37-10l-248 0c-5 0-9-2-11-5-2-3-2-7 0-12 4-13 18-20 41-20l264 0c5 0 10 2 16 5 5 3 8 6 10 11l85 282c2 5 2 10 2 17 7-3 13-7 17-13z m-304 0c-1-3-1-5 0-7 1-1 3-2 6-2l174 0c2 0 4 1 7 2 2 2 4 4 5 7l6 18c0 3 0 5-1 7-1 1-3 2-6 2l-173 0c-3 0-5-1-8-2-2-2-4-4-4-7z m-24-73c-1-3-1-5 0-7 2-2 3-2 6-2l174 0c2 0 5 0 7 2 3 2 4 4 5 7l6 18c1 2 0 5-1 6-1 2-3 3-5 3l-174 0c-3 0-5-1-7-3-3-1-4-4-5-6z"},"click":"function(gd) { \n        // is this being viewed in RStudio?\n        if (location.search == '?viewer_pane=1') {\n          alert('To learn about plotly for collaboration, visit:\\n https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html');\n        } else {\n          window.open('https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html', '_blank');\n        }\n      }"}],"cloud":false,"displayModeBar":false},"data":[{"colorbar":{"title":"cormat","ticklen":2,"len":0.5,"lenmode":"fraction","y":1,"yanchor":"top"},"colorscale":[["0","rgba(38,38,0,1)"],["0.109004781749889","rgba(86,86,40,1)"],["0.149679036877646","rgba(106,106,57,1)"],["0.174875696009994","rgba(118,118,67,1)"],["0.19870053906251","rgba(131,131,78,1)"],["0.214252355810706","rgba(139,139,85,1)"],["0.223086983925345","rgba(143,143,89,1)"],["0.235903981664588","rgba(151,151,95,1)"],["0.251310896664278","rgba(158,158,101,1)"],["0.277815600446819","rgba(174,174,114,1)"],["0.297769862571957","rgba(184,184,125,1)"],["0.314647869390867","rgba(192,192,134,1)"],["0.322333446171684","rgba(196,196,139,1)"],["0.339584445064101","rgba(203,203,149,1)"],["0.34969961949311","rgba(208,207,155,1)"],["0.365089396430232","rgba(214,214,165,1)"],["0.38779183399292","rgba(221,221,179,1)"],["0.410677744759302","rgba(227,227,193,1)"],["0.431956629984416","rgba(233,233,205,1)"],["0.456631416982522","rgba(238,238,220,1)"],["0.498090247483157","rgba(238,240,237,1)"],["0.537443897815612","rgba(224,231,237,1)"],["0.567741514038121","rgba(205,217,228,1)"],["0.782161833138363","rgba(75,117,159,1)"],["1","rgba(44,25,76,1)"]],"showscale":true,"z":[[1,0.706980955149606,0.556425092361111,0.378126441292047,0.397805847925492,-0.166139796797517,-0.135212950894151,-0.0172086645917585,0.0380473870824753,-0.0504472597901717,-0.0206581540416361,-0.219977398039659,-0.0708633347341358,-0.211367794089211,-0.067455597861626,-0.0841061242998543,-0.0876743880900634,-0.195734732474202,-0.0989361567769352,-0.166477171092307,-0.0518617988778122,-0.109893362220429,-0.0505116785844591,-0.130076704221149,0.0788270318352384],[0.706980955149606,1,0.549103076675597,0.35061263928348,0.391570376852592,-0.193449588468677,-0.139235373313522,-0.0149723710969323,0.0356963190626331,-0.0669676396625743,-0.00897037545299197,-0.162968435733613,-0.0605325442669951,-0.248801923569979,-0.0403142435229703,-0.0883038984621069,-0.0504986976822559,-0.188078858192005,-0.143785958264312,-0.139318763862387,-0.0346430385597131,-0.0398663614343071,-0.0480907497158901,-0.126965115683409,0.130811278608007],[0.556425092361111,0.549103076675597,1,0.428418658010608,0.519504318322758,-0.196777337708233,-0.0999375177603715,-0.0509277219251766,-0.0620949706450397,-0.0207150707283181,0.00347585123883217,-0.209525775641562,-0.0663965106820421,-0.244616181426246,-0.0293283025745023,-0.0414739948810554,-0.0354921485925178,-0.13549734457634,-0.0702870399617749,-0.102695499042983,-0.0296485402495042,-0.0600912514725054,-0.0342926363753107,-0.107221060432484,0.176504950269129],[0.378126441292047,0.35061263928348,0.428418658010608,1,0.397696145790449,-0.254376690041763,-0.0923916932283032,-0.0508712822938163,-0.134319892356201,-0.0744395800029325,0.0511466385871654,-0.196580961877075,-0.0121767334821647,-0.174023071366901,-0.0533645763383805,-0.0369321153091844,0.0191684958222576,-0.0761253909080678,-0.00707864516998441,-0.0166796493046938,-0.0760202789018166,-0.135083284968601,-0.116080599038172,-0.198497818721284,0.113870121209884],[0.397805847925492,0.391570376852592,0.519504318322758,0.397696145790449,1,-0.345122615893606,-0.288088666273643,-0.229789913802751,-0.211689329897874,-0.145518035212576,-0.0450432685041319,-0.262660716117536,-0.111260596885933,-0.34302079444851,-0.0974375449499584,-0.128240465177833,-0.089711277296985,-0.202273438337966,-0.166311475349875,-0.0522036489062739,-0.0638972254491138,-0.0442058878004312,-0.0490106104203365,-0.0827760548044558,0.210215113835007],[-0.166139796797517,-0.193449588468677,-0.196777337708233,-0.254376690041763,-0.345122615893606,1,0.514121304241841,0.46715717832224,0.373853410188027,0.379973214662608,0.0601235357837458,0.201184337988117,0.0772804072732915,0.262395055972954,0.0920949520897252,0.28609003437817,0.231876017517438,0.332606389248407,0.187840853663947,0.0925706527803394,0.228756172913313,0.0791139177200009,0.159285917958203,0.0812392515373316,-0.174283912173956],[-0.135212950894151,-0.139235373313522,-0.0999375177603715,-0.0923916932283032,-0.288088666273643,0.514121304241841,1,0.418559334620748,0.315842936185614,0.419024789171853,0.123233076037994,0.107993127128806,0.0921679386055448,0.198127811005132,0.14034795164982,0.377805325832186,0.28049478867811,0.470068915999454,0.297703545570658,0.0586459508542449,0.207289306426313,-0.053880906111429,0.13658005971997,-0.0569269265841416,-0.0971067126130867],[-0.0172086645917585,-0.0149723710969323,-0.0509277219251766,-0.0508712822938163,-0.229789913802751,0.46715717832224,0.418559334620748,1,0.301703448421613,0.325257547180056,-0.0174511933303054,0.0937896222672779,0.00292323261123032,0.0639267670126172,0.0242589411952099,0.212968291337284,0.20830644920003,0.245830910376958,0.111660101167795,0.10620425855887,0.217860112709115,0.100905874511307,0.100373263566496,0.0446199266760954,-0.0778460270103736],[0.0380473870824753,0.0356963190626331,-0.0620949706450397,-0.134319892356201,-0.211689329897874,0.373853410188027,0.315842936185614,0.301703448421613,1,0.383177470270399,0.246418552847265,0.235912016183618,0.212225883704926,0.233908033568835,0.246852530387637,0.252335634110151,0.293898959102909,0.269102630217128,0.159932483228614,0.0218496273878643,0.292795401577188,0.114785749493231,0.297988600548374,0.0828688859245824,-0.00497838125842404],[-0.0504472597901717,-0.0669676396625743,-0.0207150707283181,-0.0744395800029325,-0.145518035212576,0.379973214662608,0.419024789171853,0.325257547180056,0.383177470270399,1,0.151997911052234,0.0791231272756467,0.0871265631357624,0.160812496036424,0.116280731352554,0.388542255148848,0.25102930985147,0.416118848327172,0.190078507162296,0.0464981969361962,0.393336495169878,0.112035189547548,0.326627049911677,0.0668072725914428,0.0520614422981855],[-0.0206581540416361,-0.00897037545299197,0.00347585123883217,0.0511466385871654,-0.0450432685041319,0.0601235357837458,0.123233076037994,-0.0174511933303054,0.246418552847265,0.151997911052234,1,0.379354923491756,0.355702095940416,0.297741610334596,0.427823082974817,0.141480508365201,0.13627802616019,0.113879400882742,0.232079429376951,-0.0163595157588174,0.190238747537462,0.0548672741088104,0.164803248829892,0.0412128454173418,0.0565189671092003],[-0.219977398039659,-0.162968435733613,-0.209525775641562,-0.196580961877075,-0.262660716117536,0.201184337988117,0.107993127128806,0.0937896222672779,0.235912016183618,0.0791231272756467,0.379354923491756,1,0.336721099417452,0.476370808007476,0.340165167467141,0.121342147886076,0.145889506053201,0.125266251055964,0.151839742480831,0.129669557637666,0.0781173492667867,0.197797823657027,0.0864113534716208,0.211287379428157,-0.0500355518577767],[-0.0708633347341358,-0.0605325442669951,-0.0663965106820421,-0.0121767334821647,-0.111260596885933,0.0772804072732915,0.0921679386055448,0.00292323261123032,0.212225883704926,0.0871265631357624,0.355702095940416,0.336721099417452,1,0.340112847764313,0.30773141186478,0.131539187296286,0.192486022597031,0.134267401330824,0.132221252417105,0.0193374792107994,0.0628113082069184,0.00571243245663803,0.0883124318627626,0.0285734313154719,0.017097774002605],[-0.211367794089211,-0.248801923569979,-0.244616181426246,-0.174023071366901,-0.34302079444851,0.262395055972954,0.198127811005132,0.0639267670126172,0.233908033568835,0.160812496036424,0.297741610334596,0.476370808007476,0.340112847764313,1,0.249744159048123,0.156371434264184,0.122032439167038,0.169589029577017,0.242205052126235,0.0500880367915453,0.0799437821907095,0.0554143605834648,0.0823762182854434,0.137498995188138,-0.138843051583882],[-0.067455597861626,-0.0403142435229703,-0.0293283025745023,-0.0533645763383805,-0.0974375449499584,0.0920949520897252,0.14034795164982,0.0242589411952099,0.246852530387637,0.116280731352554,0.427823082974817,0.340165167467141,0.30773141186478,0.249744159048123,1,0.0967817724082832,0.092374323514751,0.120676632424588,0.0894737839990017,-0.0278028349772177,0.19082346409316,0.11754913506333,0.167292550965385,0.113705143374039,0.109446581101948],[-0.0841061242998543,-0.0883038984621069,-0.0414739948810554,-0.0369321153091844,-0.128240465177833,0.28609003437817,0.377805325832186,0.212968291337284,0.252335634110151,0.388542255148848,0.141480508365201,0.121342147886076,0.131539187296286,0.156371434264184,0.0967817724082832,1,0.485098038519036,0.504141144146242,0.360428298573295,0.265247052442104,0.222986885770643,0.0495469726599354,0.145967388067646,-0.00129408546665409,0.0357082240104927],[-0.0876743880900634,-0.0504986976822559,-0.0354921485925178,0.0191684958222576,-0.089711277296985,0.231876017517438,0.28049478867811,0.20830644920003,0.293898959102909,0.25102930985147,0.13627802616019,0.145889506053201,0.192486022597031,0.122032439167038,0.092374323514751,0.485098038519036,1,0.390083584300781,0.335087207832391,0.340193247923751,0.163637386380779,0.0884553924108497,0.130668920773082,-0.0160210139399331,0.0879446052961516],[-0.195734732474202,-0.188078858192005,-0.13549734457634,-0.0761253909080678,-0.202273438337966,0.332606389248407,0.470068915999454,0.245830910376958,0.269102630217128,0.416118848327172,0.113879400882742,0.125266251055964,0.134267401330824,0.169589029577017,0.120676632424588,0.504141144146242,0.390083584300781,1,0.307537264525875,0.181438268467912,0.237156271000684,0.0485219730625844,0.164833276639104,-0.000758223911655076,0.016645519976138],[-0.0989361567769352,-0.143785958264312,-0.0702870399617749,-0.00707864516998441,-0.166311475349875,0.187840853663947,0.297703545570658,0.111660101167795,0.159932483228614,0.190078507162296,0.232079429376951,0.151839742480831,0.132221252417105,0.242205052126235,0.0894737839990017,0.360428298573295,0.335087207832391,0.307537264525875,1,0.146424511345907,0.0720822186063045,-0.020766363308867,0.0611309073023918,-0.0383199887387578,-0.0386250925075985],[-0.166477171092307,-0.139318763862387,-0.102695499042983,-0.0166796493046938,-0.0522036489062739,0.0925706527803394,0.0586459508542449,0.10620425855887,0.0218496273878643,0.0464981969361962,-0.0163595157588174,0.129669557637666,0.0193374792107994,0.0500880367915453,-0.0278028349772177,0.265247052442104,0.340193247923751,0.181438268467912,0.146424511345907,1,0.0633105854476691,0.114491300638515,-0.0125803645580919,0.0790568558845723,0.0776908287592856],[-0.0518617988778122,-0.0346430385597131,-0.0296485402495042,-0.0760202789018166,-0.0638972254491138,0.228756172913313,0.207289306426313,0.217860112709115,0.292795401577188,0.393336495169878,0.190238747537462,0.0781173492667867,0.0628113082069184,0.0799437821907095,0.19082346409316,0.222986885770643,0.163637386380779,0.237156271000684,0.0720822186063045,0.0633105854476691,1,0.31064040799732,0.395335920388917,0.261557955663915,0.194504772043194],[-0.109893362220429,-0.0398663614343071,-0.0600912514725054,-0.135083284968601,-0.0442058878004312,0.0791139177200009,-0.053880906111429,0.100905874511307,0.114785749493231,0.112035189547548,0.0548672741088104,0.197797823657027,0.00571243245663803,0.0554143605834648,0.11754913506333,0.0495469726599354,0.0884553924108497,0.0485219730625844,-0.020766363308867,0.114491300638515,0.31064040799732,1,0.23899211333021,0.324869840752031,0.179051240042863],[-0.0505116785844591,-0.0480907497158901,-0.0342926363753107,-0.116080599038172,-0.0490106104203365,0.159285917958203,0.13658005971997,0.100373263566496,0.297988600548374,0.326627049911677,0.164803248829892,0.0864113534716208,0.0883124318627626,0.0823762182854434,0.167292550965385,0.145967388067646,0.130668920773082,0.164833276639104,0.0611309073023918,-0.0125803645580919,0.395335920388917,0.23899211333021,1,0.213734825222145,0.178375815994618],[-0.130076704221149,-0.126965115683409,-0.107221060432484,-0.198497818721284,-0.0827760548044558,0.0812392515373316,-0.0569269265841416,0.0446199266760954,0.0828688859245824,0.0668072725914428,0.0412128454173418,0.211287379428157,0.0285734313154719,0.137498995188138,0.113705143374039,-0.00129408546665409,-0.0160210139399331,-0.000758223911655076,-0.0383199887387578,0.0790568558845723,0.261557955663915,0.324869840752031,0.213734825222145,1,0.068320304073374],[0.0788270318352384,0.130811278608007,0.176504950269129,0.113870121209884,0.210215113835007,-0.174283912173956,-0.0971067126130867,-0.0778460270103736,-0.00497838125842404,0.0520614422981855,0.0565189671092003,-0.0500355518577767,0.017097774002605,-0.138843051583882,0.109446581101948,0.0357082240104927,0.0879446052961516,0.016645519976138,-0.0386250925075985,0.0776908287592856,0.194504772043194,0.179051240042863,0.178375815994618,0.068320304073374,1]],"type":"heatmap","xaxis":"x","yaxis":"y","frame":null,"zmin":-1,"zmax":1}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"base_url":"https://plot.ly"},"evals":["config.modeBarButtonsToAdd.0.click"],"jsHooks":[]}</script><p>We can see that while there might be the usual ‘Big Five’ personality structure, it may also really just be two underlying constructs- neuroticism vs. the rest, at least for this sample.</p>
<p>It occurred to me while updating this functionality that a 3-d approach might actually be useful here (it isn’t the vast majority of the time). When looking at the previous structure in 3-d, we probably would only think about two factors of items.</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb17-1" data-line-number="1"><span class="kw"><a href="../reference/corr_heat.html">corr_heat</a></span>(cor_matrix, <span class="dt">three_d =</span> <span class="ot">TRUE</span>, <span class="dt">diagonal =</span> <span class="ot">NA</span>)</a></code></pre></div>
<p>There are multiple orderings available to help bring out the structure. This may be particularly useful if you are not dealing with measurement error type data.</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb18-1" data-line-number="1"><span class="kw"><a href="../reference/corr_heat.html">corr_heat</a></span>(<span class="kw">cor</span>(mtcars), <span class="dt">three_d =</span> <span class="ot">TRUE</span>, <span class="dt">ordering =</span> <span class="st">'polar'</span>)</a></code></pre></div>
<p>Who knew the mtcars data set could actually be interesting!</p>
</div>
<div id="plotting-model-results" class="section level2">
<h2 class="hasAnchor">
<a href="#plotting-model-results" class="anchor"></a>Plotting Model Results</h2>
<p>I have some visualizations for plotting uncertainty intervals for fixed and random effects of mixed models. These require the <span class="pack">scico</span> package, as well as <span class="pack">lme4</span> and <span class="pack">brms</span> which are used to do the mixed models in the first place.</p>
<div id="lm-and-glm" class="section level3">
<h3 class="hasAnchor">
<a href="#lm-and-glm" class="anchor"></a>lm and glm</h3>
<p>I don’t really use them aside for demonstration, but in this case the <span class="objclass">lm</span> and <span class="objclass">glm</span> objects served as a baseline.</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb19-1" data-line-number="1">fit_lm =<span class="st"> </span><span class="kw">lm</span>(mpg <span class="op">~</span><span class="st"> </span>., mtcars)</a>
<a class="sourceLine" id="cb19-2" data-line-number="2"><span class="kw"><a href="../reference/plot_coefficients.html">plot_coefficients</a></span>(fit_lm)</a></code></pre></div>
<p><img src="intro_files/figure-html/lm0-1.png" width="75%" style="display: block; margin: auto;"></p>
<p>Change the palette, order and more.</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb20-1" data-line-number="1">fit_lm =<span class="st"> </span><span class="kw">lm</span>(mpg <span class="op">~</span><span class="st"> </span>., mtcars)</a>
<a class="sourceLine" id="cb20-2" data-line-number="2"><span class="kw"><a href="../reference/plot_coefficients.html">plot_coefficients</a></span>(fit_lm, </a>
<a class="sourceLine" id="cb20-3" data-line-number="3">                  <span class="dt">palette=</span><span class="st">'oslo'</span>, </a>
<a class="sourceLine" id="cb20-4" data-line-number="4">                  <span class="dt">order =</span> <span class="st">'decreasing'</span>, </a>
<a class="sourceLine" id="cb20-5" data-line-number="5">                  <span class="dt">sd_multi =</span> <span class="dv">1</span>,</a>
<a class="sourceLine" id="cb20-6" data-line-number="6">                  <span class="dt">keep_intercept =</span> <span class="ot">TRUE</span>,</a>
<a class="sourceLine" id="cb20-7" data-line-number="7">                  <span class="dt">ref_line =</span> <span class="kw">c</span>(<span class="op">-</span><span class="dv">1</span><span class="op">:</span><span class="dv">1</span>))</a></code></pre></div>
<p><img src="intro_files/figure-html/lm1-1.png" width="75%" style="display: block; margin: auto;"></p>
<div id="data-only" class="section level4">
<h4 class="hasAnchor">
<a href="#data-only" class="anchor"></a>Data only</h4>
<p>You may want to do your own visualization, or go beyond the default settings. Rather than providing a couple dozen arguments for you to tweak, just so you can still feel like you can’t get it just quite right. Here’s the data, do with it what you will!</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb21-1" data-line-number="1"><span class="kw"><a href="../reference/plot_coefficients.html">plot_coefficients</a></span>(fit_lm, <span class="dt">plot=</span><span class="ot">FALSE</span>)</a>
<a class="sourceLine" id="cb21-2" data-line-number="2">   Coefficient       value        ui_l       ui_u</a>
<a class="sourceLine" id="cb21-3" data-line-number="3"><span class="dv">1</span>           am  <span class="fl">2.52022689</span> <span class="fl">-1.59307422</span> <span class="fl">6.63352799</span></a>
<a class="sourceLine" id="cb21-4" data-line-number="4"><span class="dv">2</span>         qsec  <span class="fl">0.82104075</span> <span class="fl">-0.64064884</span> <span class="fl">2.28273034</span></a>
<a class="sourceLine" id="cb21-5" data-line-number="5"><span class="dv">3</span>         drat  <span class="fl">0.78711097</span> <span class="fl">-2.48363516</span> <span class="fl">4.05785711</span></a>
<a class="sourceLine" id="cb21-6" data-line-number="6"><span class="dv">4</span>         gear  <span class="fl">0.65541302</span> <span class="fl">-2.33110691</span> <span class="fl">3.64193294</span></a>
<a class="sourceLine" id="cb21-7" data-line-number="7"><span class="dv">5</span>           vs  <span class="fl">0.31776281</span> <span class="fl">-3.89125440</span> <span class="fl">4.52678003</span></a>
<a class="sourceLine" id="cb21-8" data-line-number="8"><span class="dv">6</span>         disp  <span class="fl">0.01333524</span> <span class="fl">-0.02237976</span> <span class="fl">0.04905024</span></a>
<a class="sourceLine" id="cb21-9" data-line-number="9"><span class="dv">7</span>           hp <span class="fl">-0.02148212</span> <span class="fl">-0.06501928</span> <span class="fl">0.02205504</span></a>
<a class="sourceLine" id="cb21-10" data-line-number="10"><span class="dv">8</span>          cyl <span class="fl">-0.11144048</span> <span class="fl">-2.20148720</span> <span class="fl">1.97860625</span></a>
<a class="sourceLine" id="cb21-11" data-line-number="11"><span class="dv">9</span>         carb <span class="fl">-0.19941925</span> <span class="fl">-1.85692425</span> <span class="fl">1.45808574</span></a>
<a class="sourceLine" id="cb21-12" data-line-number="12"><span class="dv">10</span>          wt <span class="fl">-3.71530393</span> <span class="fl">-7.50413253</span> <span class="fl">0.07352467</span></a></code></pre></div>
</div>
</div>
<div id="mixed-models" class="section level3">
<h3 class="hasAnchor">
<a href="#mixed-models" class="anchor"></a>Mixed models</h3>
<p>I do a lot of mixed models, which is my main reason for providing this functionality, so I’ve started to create some ways to plot the results of the separate fixed and random effects. We’ll use <span class="pack">lme4</span>.</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb22-1" data-line-number="1"><span class="kw">library</span>(lme4)</a>
<a class="sourceLine" id="cb22-2" data-line-number="2">fit_mer =<span class="st"> </span><span class="kw"><a href="http://www.rdocumentation.org/packages/lme4/topics/lmer">lmer</a></span>(Reaction <span class="op">~</span><span class="st"> </span>Days <span class="op">+</span><span class="st"> </span>(Days<span class="op">|</span>Subject), sleepstudy)</a>
<a class="sourceLine" id="cb22-3" data-line-number="3"><span class="kw"><a href="../reference/plot_coefficients.html">plot_coefficients</a></span>(fit_mer)</a></code></pre></div>
<p><img src="intro_files/figure-html/fe1-1.png" width="75%" style="display: block; margin: auto;"></p>
<p>And now the random effects. Fewer options can be found here, but this is intentional as you’d want them ordered and the fixed effect style would make things messy whenever there are many random effects, which is often the case. With multiple random effects, a list of ggplot objects is returned.</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb23-1" data-line-number="1"><span class="kw"><a href="../reference/plot_coefficients.html">plot_coefficients</a></span>(fit_mer, <span class="dt">ranef =</span> <span class="ot">TRUE</span>, <span class="dt">which_ranef =</span> <span class="st">'Subject'</span>)</a>
<a class="sourceLine" id="cb23-2" data-line-number="2"><span class="op">$</span><span class="st">`</span><span class="dt">(Intercept)</span><span class="st">`</span></a></code></pre></div>
<p><img src="intro_files/figure-html/re1-1.png" width="75%" style="display: block; margin: auto;"></p>
<pre><code>
$Days</code></pre>
<p><img src="intro_files/figure-html/re1-2.png" width="75%" style="display: block; margin: auto;"></p>
<p>Now for a different palette. Again, these only apply to fixed effects visualizations, due to the number of categories typically seen with random effects and how the visualization is created.</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb25-1" data-line-number="1">fit_mer2 =<span class="st"> </span><span class="kw"><a href="http://www.rdocumentation.org/packages/lme4/topics/lmer">lmer</a></span>(count <span class="op">~</span><span class="st"> </span>log_Age_c <span class="op">+</span><span class="st"> </span>log_Base4_c <span class="op">*</span><span class="st"> </span>Trt <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb25-2" data-line-number="2"><span class="st">                  </span>(<span class="dv">1</span> <span class="op">|</span><span class="st"> </span>patient), </a>
<a class="sourceLine" id="cb25-3" data-line-number="3">                <span class="dt">data =</span> brms<span class="op">::</span>epilepsy)</a>
<a class="sourceLine" id="cb25-4" data-line-number="4"><span class="kw"><a href="../reference/plot_coefficients.html">plot_coefficients</a></span>(fit_mer2, </a>
<a class="sourceLine" id="cb25-5" data-line-number="5">                  <span class="dt">palette =</span> <span class="st">'berlin'</span>)</a></code></pre></div>
<p><img src="intro_files/figure-html/fe2-1.png" width="75%" style="display: block; margin: auto;"></p>
<p>You can use <span class="pack">patchwork</span> to put them into one graph.</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb26-1" data-line-number="1">plots =<span class="st"> </span><span class="kw"><a href="../reference/plot_coefficients.html">plot_coefficients</a></span>(fit_mer, <span class="dt">ranef =</span> <span class="ot">TRUE</span>, <span class="dt">which_ranef =</span> <span class="st">'Subject'</span>)</a>
<a class="sourceLine" id="cb26-2" data-line-number="2"></a>
<a class="sourceLine" id="cb26-3" data-line-number="3"><span class="kw">library</span>(patchwork)</a>
<a class="sourceLine" id="cb26-4" data-line-number="4"></a>
<a class="sourceLine" id="cb26-5" data-line-number="5">plots[[<span class="dv">1</span>]] <span class="op">+</span><span class="st"> </span>plots[[<span class="dv">2</span>]]</a></code></pre></div>
<p><img src="intro_files/figure-html/re_patchwork-1.png" width="75%" style="display: block; margin: auto;"></p>
<div id="brms" class="section level4">
<h4 class="hasAnchor">
<a href="#brms" class="anchor"></a>brms</h4>
<p>I like <span class="pack">brms</span> quite a bit and use it a lot. It served as the motivation for these coefficient plots, as did <span class="pack">bayesplot</span>, and <span class="pack">tidyposterior</span>.</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb27-1" data-line-number="1"><span class="kw">library</span>(brms)</a>
<a class="sourceLine" id="cb27-2" data-line-number="2">fit_brms =<span class="st"> </span><span class="kw"><a href="http://www.rdocumentation.org/packages/brms/topics/brm">brm</a></span>(count <span class="op">~</span><span class="st"> </span>log_Age_c <span class="op">+</span><span class="st"> </span>log_Base4_c <span class="op">*</span><span class="st"> </span>Trt <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb27-3" data-line-number="3"><span class="st">                 </span>(<span class="dv">1</span> <span class="op">|</span><span class="st"> </span>patient) <span class="op">+</span><span class="st"> </span>(<span class="dv">1</span> <span class="op">|</span><span class="st"> </span>obs), </a>
<a class="sourceLine" id="cb27-4" data-line-number="4">               <span class="dt">data =</span> epilepsy,</a>
<a class="sourceLine" id="cb27-5" data-line-number="5">               <span class="dt">family =</span> poisson)</a>
<a class="sourceLine" id="cb27-6" data-line-number="6"><span class="kw"><a href="../reference/plot_coefficients.html">plot_coefficients</a></span>(fit_brms)</a></code></pre></div>
<p><img src="intro_files/figure-html/fe_brms1_vis-1.png" width="75%" style="display: block; margin: auto;"></p>
<p>And now the random effects.</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb28-1" data-line-number="1"><span class="kw"><a href="../reference/plot_coefficients.html">plot_coefficients</a></span>(fit1, <span class="dt">ranef =</span> <span class="ot">TRUE</span>, <span class="dt">which_ranef =</span> <span class="st">'patient'</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb28-2" data-line-number="2"><span class="st">  </span><span class="kw"><a href="http://www.rdocumentation.org/packages/ggplot2/topics/theme">theme</a></span>(<span class="dt">axis.text.x =</span> <span class="kw"><a href="http://www.rdocumentation.org/packages/ggplot2/topics/element">element_text</a></span>(<span class="dt">angle =</span> <span class="dv">-90</span>))</a></code></pre></div>
<p><img src="intro_files/figure-html/re_brms1-1.png" width="75%" style="display: block; margin: auto;"></p>
</div>
</div>
<div id="gam" class="section level3">
<h3 class="hasAnchor">
<a href="#gam" class="anchor"></a>GAM</h3>
<p>Some very rudimentary plotting of basic GAM effects provided by the <span class="pack">mgcv</span> are provided. I really like the package, but am not crazy for the default plots, and some offered by some other packages are okay, but may not be polished enough or do the smooth plots I’d eventually like to do.</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb29-1" data-line-number="1"><span class="kw">library</span>(mgcv)</a>
<a class="sourceLine" id="cb29-2" data-line-number="2">d =<span class="st"> </span><span class="kw">gamSim</span>()</a>
<a class="sourceLine" id="cb29-3" data-line-number="3">Gu <span class="op">&amp;</span><span class="st"> </span>Wahba <span class="dv">4</span> term additive model</a>
<a class="sourceLine" id="cb29-4" data-line-number="4"></a>
<a class="sourceLine" id="cb29-5" data-line-number="5">gam_model =<span class="st"> </span><span class="kw">gam</span>(y <span class="op">~</span><span class="st"> </span>x0 <span class="op">+</span><span class="st"> </span><span class="kw"><a href="http://www.rdocumentation.org/packages/brms/topics/s">s</a></span>(x1) <span class="op">+</span><span class="st"> </span><span class="kw"><a href="http://www.rdocumentation.org/packages/brms/topics/s">s</a></span>(x2, <span class="dt">bs=</span><span class="st">'gp'</span>) <span class="op">+</span><span class="st"> </span><span class="kw"><a href="http://www.rdocumentation.org/packages/brms/topics/s">s</a></span>(x3, <span class="dt">bs=</span><span class="st">'ps'</span>), <span class="dt">data=</span>d)</a>
<a class="sourceLine" id="cb29-6" data-line-number="6"></a>
<a class="sourceLine" id="cb29-7" data-line-number="7"><span class="kw"><a href="../reference/plot_gam.html">plot_gam</a></span>(gam_model,</a>
<a class="sourceLine" id="cb29-8" data-line-number="8">         <span class="dt">main_var =</span> x2)</a></code></pre></div>
<p><img src="intro_files/figure-html/gam-1.png" width="75%" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb30-1" data-line-number="1"></a>
<a class="sourceLine" id="cb30-2" data-line-number="2"><span class="kw"><a href="../reference/plot_gam.html">plot_gam</a></span>(gam_model, </a>
<a class="sourceLine" id="cb30-3" data-line-number="3">         <span class="dt">main_var =</span> <span class="kw"><a href="http://dplyr.tidyverse.org/reference/vars.html">vars</a></span>(x1, x2, x3),</a>
<a class="sourceLine" id="cb30-4" data-line-number="4">         <span class="dt">ncol =</span> <span class="dv">1</span>, </a>
<a class="sourceLine" id="cb30-5" data-line-number="5">         <span class="dt">line_color =</span> palettes<span class="op">$</span>Rblue<span class="op">$</span>Rblue, </a>
<a class="sourceLine" id="cb30-6" data-line-number="6">         <span class="dt">ribbon_color =</span> palettes<span class="op">$</span>Rblue<span class="op">$</span>complementary[<span class="dv">2</span>])</a></code></pre></div>
<p><img src="intro_files/figure-html/gam-2.png" width="75%" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb31-1" data-line-number="1"></a>
<a class="sourceLine" id="cb31-2" data-line-number="2"><span class="kw"><a href="../reference/plot_gam_check.html">plot_gam_check</a></span>(gam_model)</a></code></pre></div>
<p><img src="intro_files/figure-html/gam-3.png" width="75%" style="display: block; margin: auto;"></p>
<div id="d-smooths" class="section level4">
<h4 class="hasAnchor">
<a href="#d-smooths" class="anchor"></a>2d smooths</h4>
<p>Some initial functionality is provided for continuous-by-continuous interactions and continuous-by-categorical interaction plots.</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb32-1" data-line-number="1">d =<span class="st"> </span><span class="kw">gamSim</span>(<span class="dv">2</span>, <span class="dt">scale =</span> <span class="fl">.1</span>)<span class="op">$</span>data</a>
<a class="sourceLine" id="cb32-2" data-line-number="2">Bivariate smoothing example</a>
<a class="sourceLine" id="cb32-3" data-line-number="3">gam_model =<span class="st"> </span><span class="kw">gam</span>(y <span class="op">~</span><span class="st"> </span><span class="kw"><a href="http://www.rdocumentation.org/packages/brms/topics/s">s</a></span>(x, z, <span class="dt">bs=</span><span class="st">'gp'</span>), <span class="dt">data=</span>d)</a>
<a class="sourceLine" id="cb32-4" data-line-number="4"></a>
<a class="sourceLine" id="cb32-5" data-line-number="5"><span class="kw"><a href="../reference/plot_gam_2d.html">plot_gam_2d</a></span>(gam_model,</a>
<a class="sourceLine" id="cb32-6" data-line-number="6">            <span class="dt">main_var =</span> x,</a>
<a class="sourceLine" id="cb32-7" data-line-number="7">            <span class="dt">second_var =</span> z,</a>
<a class="sourceLine" id="cb32-8" data-line-number="8">            <span class="dt">n_plot =</span> <span class="dv">200</span>)</a></code></pre></div>
<p><img src="intro_files/figure-html/gam2d-1.png" width="75%" style="display: block; margin: auto;"></p>
<p>A categorical moderator.</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb33-1" data-line-number="1">d =<span class="st"> </span><span class="kw">gamSim</span>(<span class="dv">4</span>)</a>
<a class="sourceLine" id="cb33-2" data-line-number="2">Factor <span class="st">`</span><span class="dt">by' variable example</span></a>
<a class="sourceLine" id="cb33-3" data-line-number="3"><span class="dt">gam_model = gam(y ~ s(x2, fac, bs='fs'), data=d)</span></a>
<a class="sourceLine" id="cb33-4" data-line-number="4"></a>
<a class="sourceLine" id="cb33-5" data-line-number="5"><span class="dt">plot_gam_by(gam_model,</span></a>
<a class="sourceLine" id="cb33-6" data-line-number="6"><span class="dt">            main_var = x2,</span></a>
<a class="sourceLine" id="cb33-7" data-line-number="7"><span class="dt">            by_var = fac)</span></a></code></pre></div>
<p><img src="intro_files/figure-html/gamby-1.png" width="75%" style="display: block; margin: auto;"></p>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#palettes-themes">Palettes &amp; Themes</a></li>
      <li><a href="#descriptive-visualization">Descriptive Visualization</a></li>
      <li><a href="#plotting-model-results">Plotting Model Results</a></li>
      </ul>
</div>
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by <a href="https://m-clark.github.io">Michael Clark <img src="man/figures/lh_hex.png" height="24"></a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
</div>

  

  </body>
</html>
